{"version":3,"sources":["create_user/createUser.module.css","resources/create_resource.module.css","images/1.jpeg","login/login.module.css","course/create_course.module.css","vacation-form/components/Header.js","vacation-form/components/UserInfo.js","vacation-form/components/VacationInput.js","vacation-form/components/Vacation.js","vacation-form/components/VacationList.js","vacation-form/Vacation.js","components/Month.jsx","components/Form.jsx","components/Slot.jsx","components/RowHeader.jsx","components/TimelineGrid.jsx","components/NoCollisionLayout.jsx","components/AdminNav.js","components/UserNav.js","components/DefaultNav.js","components/NoCollision_Year.jsx","components/Slot_Week.jsx","components/RowHeader_Week.jsx","components/TimelineGrid_Week.jsx","components/NoCollision_Week.jsx","components/Month_Year.jsx","components/Week.jsx","components/Timeline.jsx","Schedule.js","detailed-schedule/components/Header.js","detailed-schedule/detailedSchedule.js","resources/resources.js","login/components/Footer.js","login/Login.js","create_user/CreateUser.js","course/CreateCourse.js","resources/create_resource.js","vacation-approval/components/VacationEntry.js","vacation-approval/components/NotApprovedList.js","vacation-approval/components/NoVacations.js","vacation-approval/components/Header.js","vacation-approval/VacationApproval.js","App.js","index.js","images/BCIT_logo.png"],"names":["module","exports","signup-form","container","checkmark","resource-form","__webpack_require__","p","login-form","footer","successMessage","course-form","screenLayout","createTheme","breakpoints","values","xxs","xs","lg","styles","makeStyles","button","border","borderRadius","color","padding","background","width","alignSelf","&:hover","&:focus","textAlign","marginLeft","image","height","Logo","classes","react_default","a","createElement","className","src","require","alt","style","position","left","top","BackButton","Button","onClick","e","window","location","href","TopNavWrapper","styled","display","flexDirection","alignItems","justifyContent","backgroundColor","TitleAndBackBWrapper","Header","_ref","title","Typography","theme","sx","fontSize","defaultProps","Form","buttonStyles","marginTop","marginBottom","SubmitButton","type","UserInfo","onAdd","_useState","useState","_useState2","Object","slicedToArray","setFirst","_useState3","_useState4","setLast","_useState5","_useState6","setEmp","_useState7","_useState8","setExt","onSubmit","preventDefault","ReactSession","get","UserInputContainer","VacationInput","NC","setNC","startingMonth","setStartingMonth","startingDay","setStartingDay","endingMonth","setEndingMonth","_useState9","_useState10","endingDay","setEndingDay","_useState11","_useState12","day","setDay","_useState13","_useState14","hour","setHour","_useState15","_useState16","VABT","setVABT","_useState17","_useState18","notes","setNotes","_useState19","_useState20","dateRange","setDateRange","_dateRange","startDate","endDate","VacationInput_Form","FormControl","m","minWidth","size","InputLabel","id","Select","labelId","label","onChange","target","value","MenuItem","react_datepicker_min_default","selectsRange","update","concat","getMonth","getDate","Date","elapsed","daysAfterLastSunday","ifThen","b","c","daysBeforeFirstSunday","getDay","Math","ceil","getBusinessDateCount","placeholder","VacationLayout","VacationDetailSeparator","VacationDetailWrapper","clearButton","Vacation","vacation","onDelete","Clear_default","VacationList","vacations","map","key","components_Vacation","END_POINT_ROOT","VACATION_RESOURCE","Container","Wrapper","margin","minHeight","SubmissionFormWrapper","VacationListWrapper","overflowY","VacationFormWrapper","state","user","users","vacationID","vacationSubmitted","loaded","changeUser","_this","includes","stateVacations","i","length","objectSpread","setState","postSubmission","console","log","alert","addVacation","newVacation","toConsumableArray","deleteVacation","index","findIndex","vac","splice","createDate","month","year","getFullYear","username","start_date","getTime","end_date","duration","props","socket","emit","parseData","data","parsedData","JSON","parse","dataUsers","push","getUsers","fetch","then","response","text","this","undefined","components_Header","components_VacationInput","components_UserInfo","components_VacationList","renderApp","React","Component","Month","weeks","next","previous","currentYear","Fragment","gridArea","x","y","Stack","direction","spacing","IconButton","aria-label","ArrowBackIos_default","ArrowForwardIos_default","item","getCourses","callBack","courseArray","course","course_num","textObject","_ref$isCourse","isCourse","input","setInput","selectedOption","setSelectedOption","isLoaded","setLoaded","setCourseArray","useEffect","name","react_select_esm","defaultValue","options","onInput","defineProperty","split","join","toLowerCase","number","datejoined","Slot","createCourse","RowHeader","removeFunction","slotArray","slots","pos","createRowSlots","createSlot","TimelineGrid","heightLimit","instructorArray","totalWeeks","onRemoveUser","onAddUser","initialRowHeaderArray","setHeight","rowHeaderArray","setRowHeaderArray","removeRowHeader","arguments","_","reject","element","set","on","stringify","firstname","lastname","timeblocks","addRowHeader","createRowHeader","LocalStorageLayout","newInstructorArray","weekInformation","currentMonthWeeks","firstWeek","currentMonth","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","replaceItem","layout","newLayout","slice","onLayoutChange","onItemChange","oldItem","newItem","findWeekDate","w","monthItems","toString","foundItem","yAxisLockedItem","instructor","floor","courseNum","caId","start","end","onAddVacation","info","findWeekIndex","uid","vid","vacation_id","h","items","onAddCourse","parseInt","weeklength","instructorKey","userId","initialLength","reduce","acc","newElement","itemData","isDraggable","isResizable","resize","forceUpdate","timeLineInformation","weekRangesArray","getCourseWidth","vacationStart","vacationEnd","vacationId","monthWeeks","mWeeks","filter","itemLayout","date","adjustment","setMonth","onRemoveItem","onRemoveVacation","el","isVacation","data-grid","right","cursor","bind","dist","to","pathname","search","bottom","_this2","ReactGridLayout","WidthProvider","RGL","updateItems","assign","cols","maxRows","autoSize","prevProps","prevState","addEventListener","_this3","random","forEach","maxW","createItemGrid","PureComponent","monthStart","times","monthEnd","range","monthIndex","weekRanges","indexMap","rowHeight","allowOverlap","preventCollision","resizeHandles","compactType","logout","localStorage","clear","AdminNav","onMouseDown","UserNav","DefaultNav","layouts","NoCollision_Year_ReactGridLayout","onResizeStop","onDragStop","reactjs_popup_esm","trigger","opacity","zIndex","modal","Form_Form","Slot_Week_Slot","RowHeader_Week_RowHeader","createRowHeaderWeek","currentWeekDays","firstDay","currentWeek","currentDate","getDayRange","current_date","firstDate","TimelineGrid_Week_TimelineGrid","_getMonFri","monday","friday","new_monday","new_friday","getMonFri","_getMonFri2","week","d1","d2","round","Week","weekDayName","String","setDate","SelectNav","userStatus","components_AdminNav","components_UserNav","components_DefaultNav","Timeline","setYear","thisYear","setFullYear","weekNum","initialMonthArray","getMonthArray","year_month_array","setYearMonthArray","monthNameArray","weekDayNameArray","firstWeekArray","weekNumber","getFirstWeek","monthArray","current_month","setCurrentMonth","current_month_name","setCurrentMonthName","current_week","month_weeks","setMonthWeeks","first_week","setFirstWeek","first_day","setDisplay","_useState21","_useState22","setCurrentDate","_useState23","_useState24","setDayNameArray","Array","from","keys","getWeeks","nextMonth","previousMonth","nextWeek","_ref2","asyncToGenerator","_regeneratorRuntime","mark","_callee","new_date","d","next_week_friday","friday_month","wrap","_context","prev","stop","apply","previousWeek","next_date","handleChange","event","createDisplayOption","autoWidth","getNumberOfWeeks","createMonth","NoCollisionLayout_LocalStorageLayout","week_day_names","Week_Week","createWeek","current_day_name_array","NoCollision_Week_LocalStorageLayout","Month_Year_Month","createMonthYear","NoCollision_Year_LocalStorageLayout","weekTimes","sum","INSTRUCTORS_RESOURCE","App","instructors","error","first_name","last_name","ca_id","vacation_start","vacation_end","approved","retrieveInstructorDataFromDatabase","catch","getHeightLimit","limit","setHeightLimit","err","detail","code","Header_TopNavWrapper","Header_Logo","Header_TitleAndBackBWrapper","Header_BackButton","Day","handleSave","previousValue","description","ds_id","model_name","model_num","quantity","subject","resources","editMode","m_num","index_modern","getStringDate","readonly","class","onSave","rows","_ref3","days","rowInfo","copyDays","dayData","dayInfo","detailedSchedule_Day","_this4","renderDay","Course","_ref4","_this5","formattedData","formattedData_len","prev_ds_id","dataLoaded","retrieveDailyScheduleDataFromDatabase","method","headers","Content-Type","weekInfo","detailedSchedule_Week","_this6","weeksData","j","renderWeek","detailed_schedule_components_Header","renderCourse","DetailedSchedule","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","detailedSchedule_Course","PopUp","toggle","resInfo","handleClose","handleSubmit","quantityAvailable","isNaN","inputValue","quantity_total","model_location","q_left","quantity_booked","updateInputValue","evt","Item","togglePop","seen","resources_PopUp","Resource","retrieveResourcesDataFromDatabase","copyData","res","rowData","itemInfo","resources_Item","renderItem","renderResouce","Resources","formattedDate","resources_Resource","Footer","Login","setUsername","password","setPassword","authenticate","Login_regeneratorRuntime","res_data","requestOptions","body","json","status","admin","document","getElementById","innerText","fontWeight","_x","backgroundImage","bg","backgroundSize","align","logo","components_Footer","CreateUser","setFirstName","setLastName","setAdmin","email","setEmail","confirmPassword","setConfirmPassword","dateJoined","new_user","checked","Create_Course","setCourseNum","setSubject","setTitle","new_course","colour","Create_resource","setModelNum","setModelName","setQuantityTotal","setModelLocation","new_resource","CheckAndCancelStyles","check","cancel","VacationInfoWrapper","ButtonsWrapper","borderColor","VacationEntry","onApprove","onReject","timestamp","num","numToMonth","VacationEntry_Container","CheckCircle_default","Cancel_default","NotApprovedList","capitalizeString","string","charAt","toUpperCase","usernameToName","first","last","components_VacationEntry","noVacations","components_Header_TopNavWrapper","components_Header_Logo","components_Header_TitleAndBackBWrapper","components_Header_BackButton","ApprovalContainer","VacationApproval","approveVacation","v","rejectVacation","getVacations","vacation_approval_components_Header","components_NotApprovedList","NoVacations","io","connect","setStoreType","react_router_dist","exact","path","Schedule_App","detailedSchedule","resources_resources","vacation_form_Vacation_Vacation","VacationApproval_VacationApproval","CreateCourse","resources_create_resource","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.5e019cb5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"createUser_signup-form__o9HtN\",\"container\":\"createUser_container__3-pky\",\"checkmark\":\"createUser_checkmark__3Jc6V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"resource-form\":\"create_resource_resource-form__3U2y9\"};","module.exports = __webpack_public_path__ + \"static/media/1.05fe5e87.jpeg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"login_login-form__2xK6i\",\"footer\":\"login_footer__1w-tM\",\"successMessage\":\"login_successMessage__7uBks\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"course-form\":\"create_course_course-form__3y8P9\"};","import Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { styled } from '@mui/system';\r\nimport { createTheme, Typography } from \"@mui/material\";\r\nimport React, { Component }  from 'react';\r\nconst screenLayout = createTheme({\r\n    breakpoints: {\r\n        values: {\r\n            xxs: 0,\r\n            xs: 300,\r\n            lg: 800,\r\n        }\r\n    }\r\n});\r\n\r\nconst styles = makeStyles({\r\n    button: {\r\n        border: 0,\r\n        borderRadius: 5,\r\n        color: \"white\",\r\n        padding: '0 10px',\r\n        background: \"#003E6B\",\r\n        width: \"8vw\",\r\n        alignSelf: \"center\",\r\n        '&:hover': {\r\n            background: \"#5082A7\",\r\n        },\r\n        '&:focus': {\r\n            background: \"#003E6B\",\r\n            '&:hover': {\r\n                background: \"#5082A7\"\r\n            }\r\n        },\r\n        textAlign: \"right\",\r\n        marginLeft: \"30%\",\r\n    },\r\n    image: {\r\n        width: 80,\r\n        height: 80,\r\n    }\r\n});\r\n\r\nfunction Logo() {\r\n    const classes = styles();\r\n    return <img className={classes.image} src={require(\"../../images/BCIT_logo.png\")}\r\n        alt={\"BCIT\"} style={{\r\n            position: \"absolute\",\r\n            left: 5,\r\n            top: 5,\r\n        }} />\r\n}\r\n\r\nfunction BackButton() {\r\n    const classes = styles();\r\n    return <Button className={classes.button} onClick={(e) => { window.location.href = '/' }}>Back</Button>\r\n}\r\n\r\nconst TopNavWrapper = styled('div')({\r\n    width: \"100vw\",\r\n    height: \"10vh\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"left\",\r\n    justifyContent: \"space-evenly\",\r\n    color: \"#003E6B\",\r\n    backgroundColor: \"white\",\r\n})\r\n\r\nconst TitleAndBackBWrapper = styled('div')({\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    //marginTop:\"40px\"\r\n})\r\n\r\nconst LoginTitleWrapper = styled('div')({\r\n})\r\n\r\nconst HeaderWrapper = styled('div')({\r\n\r\n})\r\n\r\nconst Header = ({ title }) => {\r\n    return (\r\n        <TopNavWrapper>\r\n            <Logo />\r\n            <TitleAndBackBWrapper>\r\n                <Typography theme={screenLayout} sx={{\r\n                    fontSize: {\r\n                        xxs: \"11px\",\r\n                        xs: \"11px\",\r\n                        lg: \"16px\",\r\n                    },\r\n                    marginLeft: {\r\n                        xxs: \"60px\",\r\n                        xs: \"60px\",\r\n                    }\r\n                }}>\r\n                    <h1 className=\"vacation-title\">{title}</h1>\r\n                </Typography>\r\n                <BackButton />\r\n            </TitleAndBackBWrapper>\r\n        </TopNavWrapper>\r\n    );\r\n};\r\n\r\nHeader.defaultProps = {\r\n    title: 'Request Vacation',\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react'\r\nimport { useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { styled } from '@mui/system';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { ReactSession } from \"react-client-session\";\r\n\r\nconst Form = styled('form')({\r\n})\r\n\r\nconst buttonStyles = makeStyles({\r\n    button: {\r\n        border: 0,\r\n        borderRadius: 5,\r\n        color: \"white\",\r\n        padding: '0 10px',\r\n        background: \"#003E6B\",\r\n        '&:hover': {\r\n            background: \"#5082A7\",\r\n        },\r\n        '&:focus': {\r\n            background: \"#003E6B\",\r\n            '&:hover': {\r\n                background: \"#5082A7\"\r\n            }\r\n        },\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    }\r\n});\r\n\r\nfunction SubmitButton() {\r\n    const classes = buttonStyles();\r\n    return <Button className={classes.button} type=\"submit\">Submit</Button>\r\n}\r\n\r\nconst UserInfo = ({ onAdd }) => {\r\n\r\n    const [first, setFirst] = useState('')\r\n    const [last, setLast] = useState('')\r\n    const [emp, setEmp] = useState('')\r\n    const [ext, setExt] = useState('')\r\n\r\n    const submit = (e) => {\r\n        e.preventDefault()\r\n        // makeusername function\r\n        onAdd(ReactSession.get(\"username\"))\r\n        setFirst('')\r\n        setLast('')\r\n        setEmp('')\r\n        setExt('')\r\n    }\r\n\r\n    return (\r\n        <Form onSubmit={submit}>\r\n            <SubmitButton />\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default UserInfo","import React, { useState } from 'react';\r\nimport DatePicker from 'react-datepicker'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport Select from '@mui/material/Select';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { styled } from \"@mui/system\";\r\n\r\n\r\nfunction getBusinessDateCount(startDate, endDate) {\r\n  let elapsed, daysAfterLastSunday;\r\n  let ifThen = function (a, b, c) {\r\n    return a == b ? c : a;\r\n  };\r\n\r\n  elapsed = endDate - startDate;\r\n  elapsed /= 86400000;\r\n\r\n  let daysBeforeFirstSunday = (7 - startDate.getDay()) % 7;\r\n  daysAfterLastSunday = endDate.getDay();\r\n\r\n  elapsed -= (daysBeforeFirstSunday + daysAfterLastSunday);\r\n  elapsed = (elapsed / 7) * 5;\r\n  elapsed += ifThen(daysBeforeFirstSunday - 1, -1, 0) + ifThen(daysAfterLastSunday, 6, 5);\r\n\r\n  return Math.ceil(elapsed);\r\n}\r\n\r\nconst UserInputContainer = styled('div')({\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"left\",\r\n})\r\n\r\nconst Form = styled('form')({\r\n\r\n})\r\n\r\nconst VacationInput = ({ onAdd }) => {\r\n  const [NC, setNC] = useState('');\r\n  const [startingMonth, setStartingMonth] = useState('');\r\n  const [startingDay, setStartingDay] = useState('');\r\n  const [endingMonth, setEndingMonth] = useState('');\r\n  const [endingDay, setEndingDay] = useState('');\r\n  const [day, setDay] = useState('');\r\n  const [hour, setHour] = useState('');\r\n  const [VABT, setVABT] = useState('');\r\n  const [notes, setNotes] = useState('');\r\n  const [dateRange, setDateRange] = useState([null, null]);\r\n  const [startDate, endDate] = dateRange;\r\n\r\n  const styles = makeStyles({\r\n    button: {\r\n      border: 0,\r\n      borderRadius: 5,\r\n      color: \"white\",\r\n      padding: '0 10px',\r\n      background: \"#003E6B\",\r\n      '&:hover': {\r\n        background: \"#5082A7\",\r\n      },\r\n      '&:focus': {\r\n        background: \"#003E6B\",\r\n        '&:hover': {\r\n          background: \"#5082A7\"\r\n        }\r\n      },\r\n      marginTop: 10,\r\n      marginBottom: 10\r\n    }\r\n  });\r\n\r\n  function AddButton() {\r\n    const classes = styles();\r\n    return <Button className={classes.button} type=\"submit\">Add</Button>\r\n  }\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onAdd({ NC, startingMonth, startingDay, endingMonth, endingDay, day, hour, VABT, notes });\r\n    setNC('');\r\n    setStartingMonth('');\r\n    setStartingDay('');\r\n    setEndingMonth('');\r\n    setEndingDay('');\r\n    setDay('');\r\n    setHour('');\r\n    setVABT('');\r\n    setNotes('');\r\n  }\r\n\r\n  return (\r\n    <UserInputContainer>\r\n      <Form onSubmit={onSubmit}>\r\n        <FormControl sx={{ m: 1, minWidth: 120 }} size=\"small\">\r\n          <InputLabel id=\"demo-simple-select-helper-label\">NEW/CANCEL</InputLabel>\r\n          <Select\r\n            labelId=\"demo-simple-select-helper-label\"\r\n            id=\"demo-simple-select-helper\"\r\n            label=\"NEW/CANCEL\"\r\n            onChange={(e) => setNC(e.target.value)}\r\n          >\r\n            <MenuItem value={\"N\"} style={{ width: \"100%\" }}>New</MenuItem>\r\n            <MenuItem value={\"C\"} style={{ width: \"100%\" }}>Cancel</MenuItem>\r\n          </Select>\r\n        </FormControl><br />\r\n        <text>Date</text>\r\n        <DatePicker\r\n          selectsRange={true}\r\n          startDate={startDate}\r\n          endDate={endDate}\r\n          onChange={(update) => {\r\n            // doing it all at once seems to be a bit buggy. maybe add some logic\r\n            setDateRange(update);\r\n            setStartingMonth(`${update[0].getMonth() + 1}`);\r\n            setStartingDay(update[0].getDate());\r\n            setEndingMonth(`${update[1].getMonth() + 1}`);\r\n            setEndingDay(update[1].getDate());\r\n            const start = new Date(update[0]);\r\n            const end = new Date(update[1]);\r\n\r\n            // exclude weekends\r\n            setDay(`${getBusinessDateCount(update[0], update[1])}`);\r\n          }}\r\n        />\r\n        <FormControl sx={{ m: 1, minWidth: 120 }} size=\"small\">\r\n          <InputLabel id=\"demo-simple-select-helper-label\">VA/BT</InputLabel>\r\n          <Select\r\n            labelId=\"demo-simple-select-helper-label\"\r\n            id=\"demo-simple-select-helper\"\r\n            label=\"VA/BT\"\r\n            onChange={(e) => setVABT(e.target.value)}\r\n          >\r\n            <MenuItem value={\"VA\"} style={{ width: \"100%\" }}>Vacation</MenuItem>\r\n            <MenuItem value={\"BT\"} style={{ width: \"100%\" }}>Banked</MenuItem>\r\n          </Select>\r\n        </FormControl><br />\r\n        <text>Notes on vacation</text><br />\r\n        <input className=\"vacation-input-large\" type=\"text\" placeholder=\"...\" value={notes} onChange={(e) => setNotes(e.target.value)} /><br />\r\n        <AddButton />\r\n      </Form>\r\n    </UserInputContainer>\r\n  );\r\n};\r\n\r\nexport default VacationInput;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { styled } from '@mui/system';\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport React, { Component }  from 'react';\r\nconst VacationLayout = styled('div')({\r\n\tdisplay: \"flex\",\r\n\tflexDirection: \"row\",\r\n\talignItems: \"left\",\r\n\tborder: \"1px solid steelblue\",\r\n\twidth: \"fit-content\",\r\n\theight: \"fit-content\",\r\n})\r\n\r\nconst VacationDetailSeparator = styled('div')({\r\n\tdisplay: \"flex\",\r\n\tflexDirection: \"row\",\r\n})\r\n\r\nconst VacationDetailWrapper = styled('div')({\r\n\r\n})\r\n\r\nconst buttonStyles = makeStyles({\r\n\tbutton: {\r\n\t\tborder: 0,\r\n\t\tborderRadius: 5,\r\n\t\tcolor: \"white\",\r\n\t\tpadding: '0 10px',\r\n\t\tbackground: \"#003E6B\",\r\n\t\t'&:hover': {\r\n\t\t\tbackground: \"#5082A7\",\r\n\t\t},\r\n\t\t'&:focus': {\r\n\t\t\tbackground: \"#003E6B\",\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackground: \"#5082A7\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tmarginTop: 10,\r\n\t\tmarginBottom: 10\r\n\t},\r\n\tclearButton: {\r\n\t\tborder: 0,\r\n\t\tborderRadius: 28,\r\n\t\tbackground: \"white\",\r\n\t\tcolor: \"red\",\r\n\t\t\"&:hover\": {\r\n\t\t\tbackground: \"red\",\r\n\t\t\tcolor: \"white\",\r\n\t\t}\r\n\t},\r\n});\r\n\r\nconst Vacation = ({ vacation, onDelete }) => {\r\n\treturn (\r\n\t\t<VacationLayout>\r\n\t\t\t<VacationDetailWrapper>\r\n\t\t\t\t<VacationDetailSeparator>\r\n\t\t\t\t\t<div className=\"vacation-grid-box padding-top\">{vacation.NC}</div>\r\n\t\t\t\t</VacationDetailSeparator>\r\n\t\t\t\t<VacationDetailSeparator>\r\n\t\t\t\t\t<div className=\"vacation-grid-box padding-top\">Date:{vacation.startingMonth}</div>\r\n\t\t\t\t\t<text>/</text>\r\n\t\t\t\t\t<div className=\"vacation-grid-box padding-top\">{vacation.startingDay}</div>\r\n\t\t\t\t\t<text> ~ </text>\r\n\t\t\t\t\t<div className=\"vacation-grid-box padding-top\">{vacation.endingMonth}</div>\r\n\t\t\t\t\t<text>/</text>\r\n\t\t\t\t\t<div className=\"vacation-grid-box padding-top\">{vacation.endingDay}</div>\r\n\t\t\t\t</VacationDetailSeparator>\r\n\t\t\t\t<div className=\"vacation-grid-box padding-top\">Days: {vacation.day}</div>\r\n\t\t\t\t<div className=\"vacation-grid-box padding-top\">Type: {vacation.VABT}</div>\r\n\t\t\t\t<div className=\"vacation-grid-box vacation-label-notes padding\">\r\n\t\t\t\t\t{vacation.notes}\r\n\t\t\t\t</div>\r\n\t\t\t</VacationDetailWrapper>\r\n\t\t\t<Button onClick={() => onDelete(vacation.id)} className={buttonStyles().clearButton}>\r\n\t\t\t\t<ClearIcon />\r\n\t\t\t</Button>\r\n\t\t</VacationLayout>\r\n\t);\r\n};\r\n\r\nexport default Vacation;\r\n","import Vacation from \"./Vacation\"\r\nimport React, { Component }  from 'react';\r\nconst VacationList = ({ vacations, onDelete }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{vacations.map((vacation) => (\r\n\t\t\t\t<div key={vacation.id} className=\"vacation-column vacation-inputs\">\r\n\t\t\t\t\t<Vacation vacation={vacation} onDelete={onDelete}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default VacationList;\r\n","import Header from \"./components/Header\";\r\nimport UserInfo from \"./components/UserInfo\";\r\nimport VacationInput from \"./components/VacationInput\";\r\nimport VacationList from \"./components/VacationList\";\r\nimport React from \"react\";\r\nimport { ReactSession } from 'react-client-session';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { styled } from \"@mui/system\";\r\nimport { createTheme } from \"@mui/material\";\r\n\r\nconst END_POINT_ROOT = \"/\"\r\nconst VACATION_RESOURCE = \"users\"\r\n\r\nfunction isUser() {\r\n\tlet userStatus = ReactSession.get(\"admin\");\r\n\tif (userStatus !== undefined) {\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nconst screenLayout = createTheme({\r\n\tbreakpoints: {\r\n\t\tvalues: {\r\n\t\t\txxs: 0,\r\n\t\t\txs: 300,\r\n\t\t\tlg: 800,\r\n\t\t}\r\n\t}\r\n});\r\n\r\nconst styles = makeStyles({\r\n\tbutton: {\r\n\t\tborder: 0,\r\n\t\tborderRadius: 5,\r\n\t\tcolor: \"white\",\r\n\t\tpadding: '0 10px',\r\n\t\tbackground: \"#003E6B\",\r\n\t\twidth: \"8vw\",\r\n\t\talignSelf: \"center\",\r\n\t\t'&:hover': {\r\n\t\t\tbackground: \"#5082A7\",\r\n\t\t},\r\n\t\t'&:focus': {\r\n\t\t\tbackground: \"#003E6B\",\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackground: \"#5082A7\"\r\n\t\t\t}\r\n\t\t},\r\n\t\ttextAlign: \"right\",\r\n\t\tmarginLeft: \"30%\",\r\n\t},\r\n\timage: {\r\n\t\twidth: 80,\r\n\t\theight: 80,\r\n\t}\r\n});\r\n\r\nconst Container = styled('div')({\r\n\twidth: \"100vw\",\r\n\theight: \"100vh\",\r\n\tdisplay: \"flex\",\r\n\tflexDirection: \"column\",\r\n\talignItems: \"center\",\r\n\tjustifyContent: \"right\",\r\n\tcolor: \"darkslategray\",\r\n\tbackgroundColor: \"white\",\r\n})\r\n\r\nconst Wrapper = styled('div')({\r\n\twidth: \"75%\",\r\n\theight: \"50%\",\r\n\tdisplay: \"flex\",\r\n\tflexDirection: \"row\",\r\n\talignItems: \"center\",\r\n\tbackgroundColor: \"white\",\r\n\tmargin: \"30px auto\",\r\n\tminHeight: \"200px\",\r\n\tborder: \"1px solid steelblue\",\r\n\tpadding: \"30px\",\r\n\tborderRadius: \"5px\",\r\n\ttextAlign: \"left\",\r\n})\r\n\r\nconst SubmissionFormWrapper = styled('div')({\r\n\tdisplay: \"flex\",\r\n\talignItems: \"left\",\r\n\tjustifyContent: \"center\",\r\n\tflexDirection: \"column\",\r\n})\r\n\r\nconst VacationListWrapper = styled('div')({\r\n\tminWidth: \"250px\",\r\n\theight: \"100%\",\r\n\talignItems: \"center\",\r\n\tjustifyContent: \"center\",\r\n\toverflowY: \"scroll\",\r\n})\r\n\r\nconst VacationFormWrapper = styled('div')({\r\n\tdisplay: \"flex\",\r\n\tflexDirection: \"row\",\r\n\talignItems: \"center\",\r\n\tjustifyContent: \"space-evenly\",\r\n\twidth: \"100%\",\r\n\theight: \"50%\",\r\n})\r\n\r\nexport default class Vacation extends React.Component {\r\n\tstate = {\r\n\t\tuser: '',\r\n\t\tusers: [],\r\n\t\tvacations: [],\r\n\t\tvacationID: 0,\r\n\t\tvacationSubmitted: false,\r\n\t\tloaded: false,\r\n\t}\r\n\r\n\t// version that only takes username\r\n\tchangeUser = (user) => {\r\n\t\tif (!this.state.users.includes(user)) {\r\n\t\t\tconsole.log(user);\r\n\t\t\talert(\"User is not in database\")\r\n\t\t} else {\r\n\t\t\tlet stateVacations = this.state.vacations\r\n\t\t\tfor (let i = 0; i < this.state.vacations.length; i++) {\r\n\t\t\t\tstateVacations[i] = { ...stateVacations[i], user }\r\n\t\t\t}\r\n\t\t\tthis.setState({ vacations: stateVacations })\r\n\t\t\tthis.postSubmission(user)\r\n\t\t}\r\n\t}\r\n\r\n\taddVacation = (vacation) => {\r\n\t\tconst id = this.state.vacationID\r\n\t\tconst newVacation = { id, ...vacation }\r\n\t\tthis.setState({ vacationID: this.state.vacationID + 1 })\r\n\t\tthis.setState({ vacations: [...this.state.vacations, newVacation] })\r\n\t}\r\n\r\n\tdeleteVacation = (id) => {\r\n\t\t// check if deleteVacation is invoked\r\n\t\tconst index = this.state.vacations.findIndex(vac => vac.id === id);\r\n\t\tthis.setState(this.state.vacations.splice(index, 1));\r\n\t}\r\n\r\n\tcreateDate = (month, day) => {\r\n\t\tconst year = new Date().getFullYear()\r\n\t\tconst date = new Date(year, month - 1, day)\r\n\t\treturn date\r\n\t}\r\n\r\n\tpostSubmission = (username) => {\r\n\t\tfor (let index = 0; index < this.state.vacations.length; index++) {\r\n\t\t\tconst id = this.state.vacations[index].id\r\n\t\t\tconst start_date = this.createDate(this.state.vacations[index].startingMonth, this.state.vacations[index].startingDay).getTime()\r\n\t\t\tconst end_date = this.createDate(this.state.vacations[index].endingMonth, this.state.vacations[index].endingDay).getTime()\r\n\t\t\tconst duration = this.state.vacations[index].day\r\n\t\t\tconst vacation = { id, username, start_date, end_date, duration }\r\n\t\t\tthis.props.socket.emit('vacationAdded', vacation)\r\n\t\t}\r\n\t\tthis.setState({ vacationID: 0 })\r\n\t\tthis.setState({ vacationSubmitted: true })\r\n\t\tthis.setState({ vacations: [] })\r\n\t}\r\n\r\n\tparseData = (data) => {\r\n\t\tif (!data) {\r\n\t\t\treturn null\r\n\t\t}\r\n\t\tconst parsedData = JSON.parse(data)\r\n\t\tlet dataUsers = []\r\n\t\tfor (let i = 0; i < parsedData.length; i++) {\r\n\t\t\tdataUsers.push(parsedData[i].username)\r\n\t\t}\r\n\t\tthis.setState({ users: dataUsers })\r\n\t\tthis.setState({ loaded: true })\r\n\t\tconsole.log(dataUsers);\r\n\t}\r\n\r\n\tgetUsers = () => {\r\n\t\tfetch(END_POINT_ROOT + VACATION_RESOURCE)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.text();\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\tthis.parseData(data)\r\n\t\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getUsers();\r\n\t}\r\n\r\n\trenderApp() {\r\n\t\treturn isUser() ? (\r\n\t\t\t<Container>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<Wrapper theme={screenLayout} sx={{\r\n\t\t\t\t\theight: {\r\n\t\t\t\t\t\txxs: \"100%\",\r\n\t\t\t\t\t\txs: \"75%\",\r\n\t\t\t\t\t\tlg: \"50%\",\r\n\t\t\t\t\t}\r\n\t\t\t\t}}>\r\n\t\t\t\t\t<VacationFormWrapper theme={screenLayout} sx={{\r\n\t\t\t\t\t\tflexDirection: {\r\n\t\t\t\t\t\t\txxs: \"column\",\r\n\t\t\t\t\t\t\txs: \"column\",\r\n\t\t\t\t\t\t\tlg: \"row\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\theight: {\r\n\t\t\t\t\t\t\txxs: \"80%\",\r\n\t\t\t\t\t\t\txs: \"80%\",\r\n\t\t\t\t\t\t\tlg: \"50%\",\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<SubmissionFormWrapper>\r\n\t\t\t\t\t\t\t<VacationInput onAdd={this.addVacation} />\r\n\t\t\t\t\t\t\t<UserInfo onAdd={this.changeUser} />\r\n\t\t\t\t\t\t\t{this.state.vacationSubmitted ? (<div className=\"vacation-submission-true\">Request submitted successfully</div>) : ('')}\r\n\t\t\t\t\t\t</SubmissionFormWrapper>\r\n\t\t\t\t\t\t<VacationListWrapper theme={screenLayout} sx={{\r\n\t\t\t\t\t\t\talignItems: {\r\n\t\t\t\t\t\t\t\txxs: \"left\",\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{this.state.vacations.length > 0 ? (<VacationList vacations={this.state.vacations} onDelete={this.deleteVacation} />) : (<text>No vacations added</text>)}\r\n\t\t\t\t\t\t</VacationListWrapper>\r\n\t\t\t\t\t</VacationFormWrapper>\r\n\t\t\t\t</Wrapper>\r\n\t\t\t</Container>\r\n\r\n\t\t) : window.location.href = \"/\"\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (this.state.loaded ? this.renderApp() :\r\n\t\t\t<span>Loading data...</span>)\r\n\t}\r\n\r\n}\r\n","import React from \"react\";\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Stack from '@mui/material/Stack';\r\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\r\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\r\n\r\nexport default function Month({ title, socket, position, weeks, next, previous, currentYear }) {\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"grid-month\" style={{ gridArea: position.x + \" / \" + position.y + \" / span 1 / span \" + weeks.length }}>\r\n                <Stack direction=\"row\" spacing={1}>\r\n                    <IconButton aria-label=\"back\" onClick={previous}>\r\n                        <ArrowBackIosIcon />\r\n                    </IconButton>\r\n                    <h2 className=\"grid-header\">{title}</h2>\r\n                    <IconButton aria-label=\"next\" onClick={next}>\r\n                        <ArrowForwardIosIcon />\r\n                    </IconButton>\r\n                    <h2 className=\"grid-header\">{currentYear}</h2>\r\n                </Stack>\r\n            </div>\r\n            {\r\n                weeks.map((item, i) => {\r\n                    return <div key={title + item} className=\"grid-day\" style={{ gridArea: (position.x + 1) + \" / \" + (position.y + i) + \" / span 1 / span 1\" }}>\r\n                        {item}\r\n                    </div>\r\n                })\r\n            }\r\n        </React.Fragment>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Select from 'react-select';\r\n\r\nconst END_POINT_ROOT = \"/\"\r\nconst COURSE_RESOURCE = \"courses\"\r\n\r\nconst parseData = (data) => {\r\n  if (!data) {\r\n    return null;\r\n  }\r\n  const parsedData = JSON.parse(data);\r\n  console.log(parsedData);\r\n\r\n  let courseArray = [];\r\n  for (let i = 0; i < parsedData.length; i++) {\r\n    const course = { value: parsedData[i].course_num, label: parsedData[i].title };\r\n\r\n    courseArray.push(course);\r\n  }\r\n  return courseArray;\r\n}\r\n\r\nconst getCourses = (callBack) => {\r\n  fetch(END_POINT_ROOT + COURSE_RESOURCE)\r\n    .then(response => {\r\n      return response.text();\r\n    })\r\n    .then(data => {\r\n      callBack(parseData(data));\r\n    });\r\n}\r\n\r\nexport default function Form({ title, textObject, callBack, isCourse = false }) {\r\n  const [input, setInput] = useState({}); // '' is the initial state value\r\n  const [selectedOption, setSelectedOption] = useState(null);\r\n  const [isLoaded, setLoaded] = useState(false);\r\n  const [courseArray, setCourseArray] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (isCourse) {\r\n      getCourses((data) => {\r\n        setCourseArray(data);\r\n        setLoaded(true);\r\n      })\r\n    } else {\r\n      setLoaded(true);\r\n    }\r\n  }, [])\r\n\r\n  const renderForm = () => {\r\n    return (\r\n      <div key={title + \" div\"} style={{ display: \"inline\", position: \"sticky\" }}>\r\n        {\r\n          isCourse ?\r\n            <React.Fragment>\r\n              <label name={\"Course\"} key={\"course label\"}>Course</label>\r\n              <Select\r\n                defaultValue={selectedOption}\r\n                onChange={setSelectedOption}\r\n                options={courseArray}\r\n              />\r\n            </React.Fragment>\r\n            :\r\n            undefined\r\n        }\r\n        {textObject.map((item, i) => {\r\n          return (\r\n            <React.Fragment key={item + \" container\"}>\r\n              <label name={item + \" label\"} key={item + \" label\"}>{item}</label>\r\n              <input name={item + \" input\"} key={item + \" input\"} onInput={e => setInput({ ...input, [item.split(\" \").join(\"\").toLowerCase()]: e.target.value })} />\r\n              <br />\r\n            </React.Fragment>\r\n          )\r\n        })}\r\n        {\r\n          isCourse ?\r\n            <button name={title + \" button\"} key={title + \" button\"} onClick={() => callBack({ number: selectedOption.value, title: selectedOption.label, ...input, datejoined: new Date().getTime() })}>Submit</button>\r\n            :\r\n            <button name={title + \" button\"} key={title + \" button\"} onClick={() => callBack({ ...input, datejoined: new Date().getTime() })}>Submit</button>\r\n        }\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isLoaded ?\r\n        renderForm()\r\n        :\r\n        <p>Loading</p>\r\n      }\r\n    </React.Fragment>\r\n  );\r\n}","import React from \"react\";\r\nimport Form from \"./Form\";\r\nimport Popup from \"reactjs-popup\";\r\n\r\nexport default function Slot({ name, position, createCourse }) {\r\n\r\n  return (\r\n    <div className=\"grid-slot\" style={{ position: \"relative\", gridArea: position.x + \" / \" + position.y + \" / span 1 / span 1\" }}>\r\n      {/* {createCourse &&\r\n        <Popup trigger={\r\n          <button\r\n            name={`${name} slot ${position.y}`}\r\n            style={{ opacity: 0, height: '100%', width: '100%', position: \"absolute\", zIndex: 99 }}\r\n            onClick={() => { console.log(\"CLICKCLACK\") }}>\r\n          </button>\r\n        } modal>\r\n          <div className=\"add-row-modal-bg\">\r\n            <Form text={\"Add Row: \"}\r\n              title={\"course\"}\r\n              textObject={[\"Week Length\", \"Color\"]}\r\n              isCourse={true}\r\n              callBack={(course) => createCourse(course, position.y - 3, position.x - 1)} /> //Coordinates are based on CSS grid, needs to be offset\r\n          </div>\r\n        </Popup>\r\n      } */}\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport Slot from \"./Slot\";\r\nimport { ReactSession } from 'react-client-session';\r\n\r\nexport default function RowHeader({position, text, width, height, removeFunction, createCourse}) {\r\n    const createRowSlots = () => {\r\n        let slots = [];\r\n        for(let y = 0; y < width; y++) {\r\n            for(let x = 0; x < height; x++) {\r\n                slots.push({\r\n                    key: text + \"x:\" + (position.x + x) + \"y:\" + (position.y + y),\r\n                    pos: {x: position.x + x , y: position.y + y + 2},\r\n                });\r\n            }\r\n        }\r\n        return slots;\r\n    }\r\n\r\n    const createSlot= (item, i) => {\r\n        return(\r\n            <Slot key={item.key} position={{x: item.pos.x, y: item.pos.y}} \r\n            // Rowheader has 2 rows associated with it, one that can create courses, one that can't (vacation row)\r\n            createCourse={item.pos.x % 2 === 1 ? createCourse : null} \r\n            name={text}/>\r\n        );\r\n    }\r\n\r\n    // const [slotArray, ] = useState(createRowSlots());\r\n\r\n    let slotArray = createRowSlots();\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <div className=\"grid-row-header\" style={{gridArea: position.x + \" / \" + position.y + \" / span 2 / span 2\"}}>\r\n                {\r\n                    ReactSession.get(\"admin\") === 1 ? \r\n                    <button name={text + \" remove\"} className=\"grid-row-header-close\" onClick={removeFunction}>\r\n                        <p>Remove</p>\r\n                    </button>\r\n                    :\r\n                    undefined\r\n                }\r\n                <p>{text}</p>\r\n            </div>\r\n            {slotArray.map((item, i) => {\r\n                return (\r\n                    createSlot(item, i)\r\n                )\r\n            })}\r\n        </React.Fragment>\r\n    );\r\n}","import React, { useEffect } from \"react\";\r\nimport _ from \"lodash\";\r\nimport RowHeader from './RowHeader';\r\nimport { useState } from \"react\";\r\n// const [display, setDisplay] = useState('Week');\r\n\r\nexport default function TimelineGrid({socket, heightLimit, instructorArray, createCourse, totalWeeks, onRemoveUser, onAddUser}) {\r\n    const initialRowHeaderArray = instructorArray;\r\n\r\n    // 100px height cells + 4 px total margin, change later if needed\r\n    const rowHeight = 204; \r\n\r\n    // Height for the grid and for correct placment of the add row button\r\n    const [height, setHeight] = useState(initialRowHeaderArray.length * rowHeight);\r\n\r\n    // List of users\r\n    const [rowHeaderArray, setRowHeaderArray] = useState(initialRowHeaderArray);\r\n\r\n    // Add a user to the timeline\r\n    const addRowHeader = (user, emit=true) => {\r\n        if(emit) {\r\n            socket.emit('userAdded', user);\r\n        } else {\r\n            setRowHeaderArray(rowHeaderArray => [...rowHeaderArray, {key: user.username, name: user.firstname + \" \" + user.lastname, timeblocks: [], vacations: []}]);\r\n\r\n            // Set the height limit to the number of users * 2 since each user takes up 2 rows\r\n            heightLimit.set((rowHeaderArray.length + 1) * 2);\r\n            setHeight(height => height + rowHeight);\r\n    \r\n            // Call the add user function passed in from the interactive grid so that it could also be updated\r\n            onAddUser(user);\r\n        }\r\n    }\r\n\r\n    const removeRowHeader = (key, x, emit=true) => {\r\n        // Check that an element has been found and removed before adjusting the row heights\r\n        setRowHeaderArray(rowHeaderArray => _.reject(rowHeaderArray, (element) => {return element.key === key}));\r\n        setHeight(height => height - rowHeight);\r\n\r\n        // Height limit not used, elements are locked to their rows\r\n        heightLimit.set((rowHeaderArray.length - 1) * 2);\r\n\r\n        // Call the add user function passed in from the interactive grid so that it could also be updated\r\n        onRemoveUser(key, x - 1);\r\n\r\n        if(emit)\r\n            socket.emit('userDeleted', key, x); \r\n    }\r\n    \r\n    const createRowHeader = (item, i) => {\r\n        const x = i * 2 + 1;\r\n        return <RowHeader key={item.key + \"rowHeader\" + i} socket={socket} text={item.name} \r\n                position={{x: x, y: 1}} width={totalWeeks} height={2}\r\n                removeFunction={() => {\r\n                    removeRowHeader(item.key, x)}} \r\n                    createCourse={createCourse}/>\r\n    }\r\n\r\n    //Use effect for attaching socket event listeners once the component mounts\r\n    useEffect(() => {\r\n        socket.on(\"userAdded\", (user, state) => {\r\n            console.log(\"Added: \" + JSON.stringify(user));\r\n            addRowHeader(user, false, state);\r\n        });\r\n\r\n        socket.on(\"userDeleted\", (id, x) => {\r\n            console.log(x);\r\n            console.log(id);\r\n            removeRowHeader(id, x, false);\r\n        });\r\n    }, []);\r\n\r\n    // if (display === 'Week'){\r\n    //     return (\r\n    //         <React.Fragment>\r\n    //             <div className=\"grid-container-layout-weeks\" style={{height:height}}>\r\n    //                 {\r\n    //                     rowHeaderArray.map((item, i) => {\r\n    //                         return (\r\n    //                             createRowHeader(item, i)\r\n    //                         )\r\n    //                     })\r\n    //                 }\r\n    //             </div>\r\n    //         </React.Fragment>\r\n    //     )\r\n    // } else {\r\n    //     return(\r\n    //         <React.Fragment>\r\n    //             <div className=\"grid-container-layout\" style={{height:height}}>\r\n    //                 {\r\n    //                     rowHeaderArray.map((item, i) => {\r\n    //                         return (\r\n    //                             createRowHeader(item, i)\r\n    //                         )\r\n    //                     })\r\n    //                 }\r\n    //             </div>\r\n    //         </React.Fragment>\r\n    // )};\r\n    return(\r\n                <React.Fragment>\r\n                    <div className=\"grid-container-layout\" style={{height:height}}>\r\n                        {\r\n                            rowHeaderArray.map((item, i) => {\r\n                                return (\r\n                                    createRowHeader(item, i)\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                </React.Fragment>\r\n        )\r\n}","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport TimelineGrid from \"./TimelineGrid\";\r\nimport { Link } from 'react-router-dom';\r\nimport { ReactSession } from 'react-client-session';\r\nimport RGL, { WidthProvider } from \"react-grid-layout\";\r\n\r\nexport default class LocalStorageLayout extends React.PureComponent {\r\n  static defaultProps = {\r\n    className: \"layout\",\r\n    rowHeight: 100,\r\n    margin: [2, 2],\r\n    allowOverlap: true,\r\n    preventCollision: false,\r\n    resizeHandles: ['e'],\r\n    compactType: null,\r\n    autoSize: true,\r\n  };\r\n\r\n  constructor({ props, socket, heightLimit, newInstructorArray, weekInformation,\r\n    totalWeeks, firstWeek, currentMonthWeeks, currentMonth, year }) {\r\n    super(props);\r\n\r\n    let timeLineInformation = weekInformation.weekRangesArray[currentMonth];\r\n\r\n    this.state = {\r\n      // Loop through the instructor array to get all the courses associated with them\r\n      items: newInstructorArray.reduce(function (acc, element, index) {\r\n        if ((element.timeblocks.length === 0 && element.vacations.length === 0) || weekInformation.length === 0) {\r\n          return acc;\r\n        }\r\n\r\n        // Create a course element for every timeblock and concatenate them into one array\r\n        let arr = acc.concat(\r\n          element.timeblocks.map((info) => {\r\n            const start = findWeekIndex(weekInformation, info.start);\r\n            const end = findWeekIndex(weekInformation, info.end);\r\n            console.log('start, end', start, end)\r\n            const width = getCourseWidth(start, end, weekInformation, timeLineInformation);\r\n\r\n            return (\r\n              {\r\n                start: start,\r\n                end: end,\r\n                text: info.name,\r\n                caId: info.caId,\r\n                userId: info.userId,\r\n                courseNum: info.courseNum,\r\n                data: {\r\n                  i: info.caId,\r\n                  x: start,\r\n                  y: index * 2,\r\n                  w: width,\r\n                  h: 1,\r\n                }\r\n              }\r\n            )\r\n          })\r\n        );\r\n\r\n        return arr.concat(\r\n          element.vacations.map((info) => {\r\n            const start = findWeekIndex(weekInformation, info.vacationStart);\r\n            const end = findWeekIndex(weekInformation, info.vacationEnd) + 1;\r\n\r\n            const width = getCourseWidth(start, end, weekInformation, timeLineInformation);\r\n            return (\r\n              {\r\n                start: start,\r\n                end: end,\r\n                text: info.userId + \"'s Vacation\",\r\n                uid: info.userId,\r\n                vid: info.vacationId,\r\n                data: {\r\n                  i: info.userId + info.vacationId,\r\n                  x: start,\r\n                  y: (index * 2) + 1,\r\n                  w: width,\r\n                  h: 1,\r\n                }\r\n              }\r\n            )\r\n          })\r\n        );\r\n      }, []),\r\n      heightLimit: heightLimit.get,\r\n      weekInformation: weekInformation,\r\n      instructorArray: newInstructorArray,\r\n      monthWeeks: currentMonthWeeks,\r\n    };\r\n\r\n    this.socket = socket;\r\n    this.heightLimit = heightLimit;\r\n    this.totalWeeks = totalWeeks;\r\n    this.mWeeks = currentMonthWeeks;\r\n    this.monthItems = this.state.items.filter((info) => {\r\n      const start = info.start;\r\n      const end = info.end;\r\n      const width = getCourseWidth(start, end, weekInformation, timeLineInformation);\r\n\r\n      if (width === 0) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n    this.itemLayout = [];\r\n\r\n    this.socket.on(\"itemChanged\", (item) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(item));\r\n\r\n      this.replaceItem(item);\r\n    });\r\n\r\n    this.socket.on(\"courseAdded\", (item) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(item));\r\n\r\n      var date = new Date(item.start);\r\n\r\n      var courseYear = date.getFullYear();\r\n\r\n      var adjustment = (courseYear - this.props.year) * 12;\r\n\r\n      date.setMonth(date.getMonth() - adjustment);\r\n\r\n      item.start = date.getTime();\r\n\r\n      this.onAddCourse(item, parseInt(item.x), parseInt(item.y), false);\r\n    });\r\n\r\n    this.socket.on(\"courseDeleted\", (i) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(i));\r\n\r\n      this.onRemoveItem(i, false);\r\n    });\r\n\r\n    this.socket.on(\"vacationApproved\", (vacation) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(vacation));\r\n\r\n      this.onAddVacation(vacation);\r\n    });\r\n\r\n    this.socket.on(\"vacationDeleted\", (vacation) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(vacation));\r\n\r\n      this.onRemoveVacation(vacation.vacation_id, false);\r\n    });\r\n  }\r\n\r\n  replaceItem = (item) => {\r\n    for (let i = 0; i < this.state.layout.length; i++) {\r\n      if (this.state.layout[i].i === item.i) {\r\n        const newLayout = this.state.layout.slice();\r\n        newLayout[i] = item;\r\n\r\n        this.setState({\r\n          layout: newLayout\r\n        });\r\n\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  onLayoutChange = (layout) => {\r\n    this.setState({\r\n      layout: layout\r\n    });\r\n  }\r\n\r\n  onItemChange = (layout, oldItem, newItem) => {\r\n    // Update the dates on the postgresql database\r\n    const startDate = findWeekDate(this.state.weekInformation, newItem.x);\r\n    const endDate = findWeekDate(this.state.weekInformation, newItem.w + newItem.x - 1);\r\n\r\n    // HTTP request instead of sockets\r\n    const index = _.findIndex(this.monthItems, (element) => { return element.data.i.toString() === newItem.i });\r\n    const foundItem = this.monthItems[index];\r\n\r\n    // Restrict movement of the course to one row only\r\n    const yAxisLockedItem = newItem;\r\n    yAxisLockedItem.y = oldItem.y;\r\n    this.replaceItem(yAxisLockedItem);\r\n\r\n    const instructor = this.state.instructorArray[Math.floor(newItem.y / 2)];\r\n    this.socket.emit('itemChanged', yAxisLockedItem, { username: instructor.key, courseNum: foundItem.courseNum, caId: foundItem.caId, start: startDate.getTime(), end: endDate.getTime() });\r\n  }\r\n\r\n  onAddVacation = (info) => {\r\n    const start = findWeekIndex(this.state.weekInformation, new Date(info.start_date));\r\n    const end = findWeekIndex(this.state.weekInformation, new Date(info.end_date)) + 1;\r\n    const index = _.findIndex(this.state.instructorArray, (element) => { return element.key === info.username });\r\n\r\n    const newVacation = {\r\n      text: info.username + \"'s Vacation\",\r\n      uid: info.username,\r\n      vid: info.vacation_id,\r\n      data: {\r\n        i: info.username + info.vacation_id,\r\n        x: start,\r\n        y: (index * 2) + 1,\r\n        w: end - start,\r\n        h: 1,\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      items: this.state.items.concat(\r\n        newVacation\r\n      )\r\n    });\r\n  }\r\n\r\n  onAddCourse = (course, x = 0, y = 0, emit = true) => {\r\n    const w = parseInt(course.weeklength);\r\n\r\n    console.log(x);\r\n\r\n    const startDate = findWeekDate(this.state.weekInformation, x + this.props.firstWeek);\r\n    const endDate = findWeekDate(this.state.weekInformation, w + x + this.props.firstWeek);\r\n    const instructor = this.state.instructorArray[Math.floor(y / 2)];\r\n\r\n    const start = findWeekIndex(this.state.weekInformation, startDate);\r\n    const end = findWeekIndex(this.state.weekInformation, endDate);\r\n\r\n    // User/ instructor was deleted, can't create a course\r\n    if (instructor === undefined) {\r\n      return;\r\n    }\r\n\r\n    if (emit) {\r\n      this.socket.emit('courseAdded', { ...course, x: x, y: y, instructorKey: instructor.key, courseNum: course.number, start: startDate.getTime(), end: endDate.getTime() });\r\n    } else {\r\n      this.setState({\r\n        // Add a new item\r\n        items: this.state.items.concat({\r\n          start: start,\r\n          end: end,\r\n          text: course.title,\r\n          userId: instructor.key,\r\n          courseNum: course.number,\r\n          caId: course.caId,\r\n          data: {\r\n            i: course.caId,\r\n            x: x,\r\n            y: y,\r\n            w: w,\r\n            h: 1,\r\n          }\r\n        }),\r\n      });\r\n    }\r\n    console.log(this.state.items);\r\n  }\r\n\r\n  onRemoveItem(i, emit = true) {\r\n    // Find the index of the course element in the state\r\n    const index = _.findIndex(this.state.items, (element) => { return element.data.i === i });\r\n    const foundItem = this.state.items[index];\r\n\r\n    // Emit a message to all other applications that a course has been edeleted\r\n    if (emit) {\r\n      this.socket.emit(\"courseDeleted\", foundItem, i);\r\n    }\r\n\r\n    // Remove the element from the state\r\n    this.setState({ items: _.reject(this.state.items, (element) => { return element.data.i === i }) });\r\n  }\r\n\r\n  onRemoveVacation(vid, emit = true) {\r\n    if (emit) {\r\n      this.socket.emit(\"vacationDeleted\", { vacation_id: vid });\r\n    }\r\n\r\n    // Remove the element from the state\r\n    this.setState({ items: _.reject(this.state.items, (element) => { return element.vid === vid }) });\r\n  }\r\n\r\n  onRemoveUser = (key, y) => {\r\n    const initialLength = this.state.instructorArray.length;\r\n    this.setState({ instructorArray: _.reject(this.state.instructorArray, (element) => { return element.key === key }) },\r\n      () => {\r\n        // No user/ instructor found to delete\r\n        if (this.state.instructorArray.length !== initialLength) {\r\n          // Remove elements on the same row\r\n          console.log(\"Removed items at: \" + y);\r\n          this.setState({ items: _.reject(this.state.items, (element) => { return element.data.y === y || element.data.y === y + 1 }) }\r\n            , () => {\r\n              console.log(this.state.items);\r\n              // Move course elements up if they are below the user that was deleted\r\n              this.setState({\r\n                items: _.reduce(this.state.items, (acc, element) => {\r\n                  if (element.data.y > y) {\r\n                    const newElement = element;\r\n                    newElement.data.y -= 2;\r\n                    return [...acc, newElement];\r\n                  } else {\r\n                    return [...acc, element];\r\n                  }\r\n                }, [])\r\n              },\r\n                () => {\r\n                  this.setState({\r\n                    layout: _.reduce(this.state.items, (acc, element) => {\r\n                      if (element.vid !== undefined) {\r\n                        const itemData = { ...element.data, isDraggable: false, isResizable: false };\r\n                        return [...acc, itemData];\r\n                      } else {\r\n                        const itemData = element.data;\r\n                        return [...acc, itemData];\r\n                      }\r\n                    }, [])\r\n                  });\r\n                  console.log(this.state.layout);\r\n                });\r\n            });\r\n          // Reset layout so that the items are shifted up visually\r\n        }\r\n      });\r\n  }\r\n\r\n  onAddUser = (user) => {\r\n    this.setState({ instructorArray: [...this.state.instructorArray, { key: user.username, name: user.firstname + \" \" + user.lastname, timeblocks: [], vacations: [] }] });\r\n  }\r\n\r\n  createElement(el, isVacation = false, layout) {\r\n    const removeStyle = {\r\n      position: \"absolute\",\r\n      right: \"2px\",\r\n      top: 0,\r\n      cursor: \"pointer\",\r\n      padding: \"5px\",\r\n      color: \"black\"\r\n    };\r\n    const dsStyle = {\r\n      position: \"absolute\",\r\n      left: \"2px\",\r\n      bottom: 0,\r\n      cursor: \"pointer\",\r\n      padding: \"5px\",\r\n      color: \"black\"\r\n    };\r\n    return (\r\n      <div key={el.data.i} data-grid={isVacation ? { ...el.data, isDraggable: false, isResizable: false } : el.data}\r\n        name={el.text + \" el\"}>\r\n        <span className=\"text\">{el.text}</span>\r\n        {\r\n            ReactSession.get(\"admin\") === 1 ?\r\n            <span\r\n              className=\"remove\"\r\n              style={removeStyle}\r\n              onClick={isVacation ? this.onRemoveVacation.bind(this, el.vid) : this.onRemoveItem.bind(this, el.data.i)}\r\n            >\r\n              x\r\n            </span>\r\n            :\r\n            undefined\r\n        }\r\n        {!isVacation && ReactSession.get(\"admin\") === 1 ?\r\n          <Link\r\n            to={{\r\n              pathname: \"/detailed-schedule\",\r\n              search: \"?courseNum=\" + el.courseNum,\r\n            }}\r\n          >\r\n            <span\r\n              className=\"remove\"\r\n              style={dsStyle}\r\n            >\r\n              Detailed\r\n            </span>\r\n          </Link>\r\n          :\r\n          undefined\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  createItemGrid(props) {\r\n\r\n    const ReactGridLayout = WidthProvider(RGL);\r\n\r\n    this.updateItems();\r\n    return (\r\n      <ReactGridLayout\r\n        {...props}\r\n        cols={this.props.currentMonthWeeks}\r\n        maxRows={this.state.heightLimit()}\r\n        layout={this.state.layout}\r\n        isDraggable={ReactSession.get(\"admin\") !== undefined ? true : false}\r\n        isResizable={ReactSession.get(\"admin\") !== undefined ? true : false}\r\n        autoSize={true}\r\n      >\r\n        {this.monthItems.map(el => this.createElement(el, el.vid !== undefined ? true : false, this.props.currentMonthWeeks))}\r\n      </ReactGridLayout>\r\n    )\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.weekInformation.weekRangesArray[this.props.currentMonth].month !== prevProps.weekInformation.weekRangesArray[this.props.currentMonth].month) {\r\n      this.onLayoutChange(this.itemLayout);\r\n    }\r\n  }\r\n\r\n\r\n  resize = () => this.forceUpdate();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('resize', this.resize);\r\n  }\r\n\r\n  updateItems() {\r\n\r\n    var items = [];\r\n\r\n    var random = this.state.items.filter((item) => {\r\n      const start = item.start;\r\n      const end = item.end;\r\n\r\n      const width = getCourseWidth(start, end, this.props.weekInformation, this.props.weekInformation.weekRangesArray[this.props.currentMonth]);\r\n      if (width === 0) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    })\r\n\r\n    random.forEach(element => {\r\n      const width = getCourseWidth(element.start, element.end, this.props.weekInformation, this.props.weekInformation.weekRangesArray[this.props.currentMonth]);\r\n      element.data.w = width;\r\n      element.data.i = element.data.i.toString();\r\n      element.data.maxW = this.props.currentMonthWeeks;\r\n      items.push(element.data);\r\n    });\r\n    this.monthItems = random;\r\n    this.itemLayout = items;\r\n\r\n    return items;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <TimelineGrid\r\n          socket={this.socket}\r\n          heightLimit={this.heightLimit}\r\n          instructorArray={this.state.instructorArray}\r\n          createCourse={this.onAddCourse}\r\n          totalWeeks={this.props.currentMonthWeeks}\r\n          onRemoveUser={this.onRemoveUser}\r\n          onAddUser={this.onAddUser} />\r\n        <div className=\"grid-item-container\" style={{ width: this.props.currentMonthWeeks * 102, position: \"absolute\" }}>\r\n          {this.createItemGrid(this.props)}\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nfunction getCourseWidth(start, end, weekInformation, timeLineInformation) {\r\n  const monthStart = findWeekIndex(weekInformation, timeLineInformation.times[0].date);\r\n  const monthEnd = findWeekIndex(weekInformation, timeLineInformation.times[timeLineInformation.times.length - 1].date);\r\n\r\n  const course = _.range(start, end);\r\n  const month = _.range(monthStart, monthEnd + 1);\r\n\r\n  const intersection = course.filter(value => month.includes(value));\r\n\r\n  return intersection.length;\r\n\r\n}\r\n\r\nfunction findWeekIndex(weekInformation, date) {\r\n  // Search for a week in a particular month\r\n  const monthIndex = date.getMonth();\r\n\r\n  // Get the first day of every week in that month\r\n  const weekRanges = weekInformation.weekRangesArray[monthIndex].times;\r\n\r\n  for (let i = 0; i < weekRanges.length; i++) {\r\n    if (date <= weekRanges[i].date) {\r\n      return weekRanges[i].index;\r\n    }\r\n\r\n  }\r\n\r\n  // Return the index of the last week of the month\r\n  return weekRanges[weekRanges.length - 1].index;\r\n}\r\n\r\nfunction findWeekDate(weekInformation, index) {\r\n  return weekInformation.indexMap[index];\r\n}\r\n","import React from 'react';\r\nimport '../navbar.css'\r\n\r\nfunction logout() {\r\n    localStorage.clear();\r\n}\r\n\r\nconst AdminNav = ({ title }) => {\r\n    return (\r\n        <ul className=\"nav-ul\">\r\n            <li className='nav-li'><a href=\"/\">Home</a></li>\r\n            <li className='nav-li'><a href=\"/create_user\">Create User</a></li>\r\n            <li className='nav-li'><a href=\"/create_course\">Create Course</a></li>\r\n            <li className='nav-li'><a href=\"/create_resource\">Create Resource</a></li>\r\n            <li className='nav-li'><a href=\"/vacation\">Request Vacation</a></li>\r\n            <li className='nav-li'><a href=\"/vacationApproval\">Approve Vacation</a></li>\r\n            <li className='nav-li_logout' id=\"logout\" onMouseDown={logout}><a href=\"/\">Logout</a></li>\r\n        </ul>\r\n    );\r\n};\r\n\r\n\r\nAdminNav.defaultProps = {\r\n    title: 'Admin Nav',\r\n}\r\n\r\nexport default AdminNav;","import React from 'react';\r\nimport '../navbar.css'\r\n\r\nfunction logout() {\r\n    localStorage.clear();\r\n}\r\n\r\nconst UserNav = ({ title }) => {\r\n    return (\r\n        <ul className=\"nav-ul\">\r\n            <li className='nav-li'><a href=\"/vacation\">Request Vacation</a></li>\r\n            <li className='nav-li' id=\"logout\" onMouseDown={logout}><a href=\"/\">Logout</a></li>\r\n        </ul>\r\n    );\r\n};\r\n\r\nUserNav.defaultProps = {\r\n    title: 'Admin Nav',\r\n}\r\n\r\nexport default UserNav;\r\n","import React from 'react';\r\nimport '../navbar.css'\r\n\r\nconst DefaultNav = ({ title }) => {\r\n    return (\r\n        <ul className=\"nav-ul\">\r\n            <li className='nav-li' id=\"login\"><a href=\"/login\">Login</a></li>\r\n        </ul>\r\n    );\r\n};\r\n\r\nDefaultNav.defaultProps = {\r\n    title: 'Default Nav',\r\n}\r\n\r\nexport default DefaultNav;\r\n","import React from \"react\";\r\nimport RGL, { WidthProvider } from \"react-grid-layout\";\r\nimport _ from \"lodash\";\r\nimport TimelineGrid from \"./TimelineGrid\";\r\nimport { Link } from 'react-router-dom';\r\nimport { ReactSession } from 'react-client-session';\r\nconst ReactGridLayout = WidthProvider(RGL);\r\n\r\n\r\nexport default class LocalStorageLayout extends React.PureComponent {\r\n  static defaultProps = {\r\n    className: \"layout\",\r\n    rowHeight: 100,\r\n    margin: [2, 2],\r\n    allowOverlap: true,\r\n    preventCollision: false,\r\n    resizeHandles: ['e'],\r\n    compactType: null,\r\n    autoSize: true\r\n  };\r\n\r\n  constructor({ props, socket, heightLimit, newInstructorArray, weekInformation, totalWeeks }) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      // Loop through the instructor array to get all the courses associated with them\r\n      items: newInstructorArray.reduce(function (acc, element, index) {\r\n        if ((element.timeblocks.length === 0 && element.vacations.length === 0) || weekInformation.length === 0) {\r\n          return acc;\r\n        }\r\n\r\n        // Create a course element for every timeblock and concatenate them into one array\r\n        let arr = acc.concat(\r\n          element.timeblocks.map((info) => {\r\n            const start = findWeekIndex(weekInformation, info.start);\r\n            const end = findWeekIndex(weekInformation, info.end) + 1;\r\n            return (\r\n              {\r\n                text: info.name,\r\n                caId: info.caId,\r\n                userId: info.userId,\r\n                courseNum: info.courseNum,\r\n                data: {\r\n                  i: info.caId,\r\n                  x: start,\r\n                  y: index * 2,\r\n                  w: end - start,\r\n                  h: 1,\r\n                }\r\n              }\r\n            )\r\n          })\r\n        );\r\n\r\n        return arr.concat(\r\n          element.vacations.map((info) => {\r\n            const start = findWeekIndex(weekInformation, info.vacationStart);\r\n            const end = findWeekIndex(weekInformation, info.vacationEnd) + 1;\r\n            return (\r\n              {\r\n                text: info.userId + \"'s Vacation\",\r\n                uid: info.userId,\r\n                vid: info.vacationId,\r\n                data: {\r\n                  i: info.userId + info.vacationId,\r\n                  x: start,\r\n                  y: (index * 2) + 1,\r\n                  w: end - start,\r\n                  h: 1,\r\n                }\r\n              }\r\n            )\r\n          })\r\n        );\r\n      }, []),\r\n      heightLimit: heightLimit.get,\r\n      weekInformation: weekInformation,\r\n      instructorArray: newInstructorArray\r\n    };\r\n    this.socket = socket;\r\n    this.heightLimit = heightLimit;\r\n    this.totalWeeks = totalWeeks;\r\n\r\n    this.socket.on(\"itemChanged\", (item) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(item));\r\n\r\n      this.replaceItem(item);\r\n    });\r\n\r\n    this.socket.on(\"courseAdded\", (item) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(item));\r\n\r\n      this.onAddCourse(item, parseInt(item.x), parseInt(item.y), false);\r\n    });\r\n\r\n    this.socket.on(\"courseDeleted\", (i) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(i));\r\n\r\n      this.onRemoveItem(i, false);\r\n    });\r\n\r\n    this.socket.on(\"vacationApproved\", (vacation) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(vacation));\r\n\r\n      this.onAddVacation(vacation);\r\n    });\r\n\r\n    this.socket.on(\"vacationDeleted\", (vacation) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(vacation));\r\n\r\n      this.onRemoveVacation(vacation.vacation_id, false);\r\n    })\r\n  }\r\n\r\n  replaceItem = (item) => {\r\n    for (let i = 0; i < this.state.layout.length; i++) {\r\n      if (this.state.layout[i].i === item.i) {\r\n        const newLayout = this.state.layout.slice();\r\n        newLayout[i] = item;\r\n\r\n        this.setState({\r\n          layout: newLayout\r\n        });\r\n\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  onLayoutChange = (layout, layouts) => {\r\n    this.setState({\r\n      layout: layout\r\n    });\r\n  }\r\n\r\n  onItemChange = (layout, oldItem, newItem) => {\r\n    // Update the dates on the postgresql database\r\n    const startDate = findWeekDate(this.state.weekInformation, newItem.x);\r\n    const endDate = findWeekDate(this.state.weekInformation, newItem.w + newItem.x - 1);\r\n\r\n    // HTTP request instead of sockets\r\n\r\n    const index = _.findIndex(this.state.items, (element) => { return element.data.i.toString() === newItem.i });\r\n    const foundItem = this.state.items[index];\r\n\r\n    // Restrict movement of the course to one row only\r\n    const yAxisLockedItem = newItem;\r\n    yAxisLockedItem.y = oldItem.y;\r\n    this.replaceItem(yAxisLockedItem);\r\n\r\n    const instructor = this.state.instructorArray[Math.floor(newItem.y / 2)];\r\n    this.socket.emit('itemChanged', yAxisLockedItem, { username: instructor.key, courseNum: foundItem.courseNum, caId: foundItem.caId, start: startDate.getTime(), end: endDate.getTime() });\r\n  }\r\n\r\n  onAddVacation = (info) => {\r\n    const start = findWeekIndex(this.state.weekInformation, new Date(info.start_date));\r\n    const end = findWeekIndex(this.state.weekInformation, new Date(info.end_date)) + 1;\r\n    const index = _.findIndex(this.state.instructorArray, (element) => { return element.key === info.username });\r\n\r\n    const newVacation = {\r\n      text: info.username + \"'s Vacation\",\r\n      uid: info.username,\r\n      vid: info.vacation_id,\r\n      data: {\r\n        i: info.username + info.vacation_id,\r\n        x: start,\r\n        y: (index * 2) + 1,\r\n        w: end - start,\r\n        h: 1,\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      items: this.state.items.concat(\r\n        newVacation\r\n      )\r\n    });\r\n  }\r\n\r\n  onAddCourse = (course, x = 0, y = 0, emit = true) => {\r\n    const w = parseInt(course.weeklength);\r\n\r\n    const startDate = findWeekDate(this.state.weekInformation, x);\r\n    const endDate = findWeekDate(this.state.weekInformation, w + x - 1);\r\n    const instructor = this.state.instructorArray[Math.floor(y / 2)];\r\n\r\n    // User/ instructor was deleted, can't create a course\r\n    if (instructor === undefined) {\r\n      return;\r\n    }\r\n\r\n    if (emit) {\r\n      this.socket.emit('courseAdded', { ...course, x: x, y: y, instructorKey: instructor.key, courseNum: course.number, start: startDate.getTime(), end: endDate.getTime() });\r\n    } else {\r\n      this.setState({\r\n        // Add a new item\r\n        items: this.state.items.concat({\r\n          text: course.title,\r\n          userId: instructor.key,\r\n          courseNum: course.number,\r\n          caId: course.caId,\r\n          data: {\r\n            i: course.caId,\r\n            x: x,\r\n            y: y,\r\n            w: w,\r\n            h: 1,\r\n          }\r\n        }),\r\n      });\r\n    }\r\n  }\r\n\r\n  onRemoveItem(i, emit = true) {\r\n    // Find the index of the course element in the state\r\n    const index = _.findIndex(this.state.items, (element) => { return element.data.i === i });\r\n    const foundItem = this.state.items[index];\r\n\r\n    // Emit a message to all other applications that a course has been edeleted\r\n    if (emit) {\r\n      this.socket.emit(\"courseDeleted\", foundItem, i);\r\n    }\r\n\r\n    // Remove the element from the state\r\n    this.setState({ items: _.reject(this.state.items, (element) => { return element.data.i === i }) });\r\n  }\r\n\r\n  onRemoveVacation(vid, emit = true) {\r\n    if (emit) {\r\n      this.socket.emit(\"vacationDeleted\", { vacation_id: vid });\r\n    }\r\n\r\n    // Remove the element from the state\r\n    this.setState({ items: _.reject(this.state.items, (element) => { return element.vid === vid }) });\r\n  }\r\n\r\n  onRemoveUser = (key, y) => {\r\n    const initialLength = this.state.instructorArray.length;\r\n    this.setState({ instructorArray: _.reject(this.state.instructorArray, (element) => { return element.key === key }) },\r\n      () => {\r\n        // No user/ instructor found to delete\r\n        if (this.state.instructorArray.length !== initialLength) {\r\n          // Remove elements on the same row\r\n          console.log(\"Removed items at: \" + y);\r\n          this.setState({ items: _.reject(this.state.items, (element) => { return element.data.y === y || element.data.y === y + 1 }) }\r\n            , () => {\r\n              console.log(this.state.items);\r\n              // Move course elements up if they are below the user that was deleted\r\n              this.setState({\r\n                items: _.reduce(this.state.items, (acc, element) => {\r\n                  if (element.data.y > y) {\r\n                    const newElement = element;\r\n                    newElement.data.y -= 2;\r\n                    return [...acc, newElement];\r\n                  } else {\r\n                    return [...acc, element];\r\n                  }\r\n                }, [])\r\n              },\r\n                () => {\r\n                  this.setState({\r\n                    layout: _.reduce(this.state.items, (acc, element) => {\r\n                      if (element.vid !== undefined) {\r\n                        const itemData = { ...element.data, isDraggable: false, isResizable: false };\r\n                        return [...acc, itemData];\r\n                      } else {\r\n                        const itemData = element.data;\r\n                        return [...acc, itemData];\r\n                      }\r\n                    }, [])\r\n                  });\r\n                  console.log(this.state.layout);\r\n                });\r\n            });\r\n          // Reset layout so that the items are shifted up visually\r\n        }\r\n      });\r\n  }\r\n\r\n  onAddUser = (user) => {\r\n    this.setState({ instructorArray: [...this.state.instructorArray, { key: user.username, name: user.firstname + \" \" + user.lastname, timeblocks: [], vacations: [] }] });\r\n  }\r\n\r\n  createElement(el, isVacation = false) {\r\n    const removeStyle = {\r\n      position: \"absolute\",\r\n      right: \"2px\",\r\n      top: 0,\r\n      cursor: \"pointer\",\r\n      padding: \"5px\",\r\n      color: \"black\"\r\n    };\r\n    const dsStyle = {\r\n      position: \"absolute\",\r\n      left: \"2px\",\r\n      bottom: 0,\r\n      cursor: \"pointer\",\r\n      padding: \"5px\",\r\n      color: \"black\"\r\n    };\r\n\r\n    return (\r\n      <div key={el.data.i} data-grid={isVacation ? { ...el.data, isDraggable: false, isResizable: false } : el.data} name={el.text + \" el\"} >\r\n        <span className=\"text\">{el.text}</span>\r\n        {\r\n          ReactSession.get(\"admin\") === 1 ?\r\n            <span\r\n              className=\"remove\"\r\n              style={removeStyle}\r\n              onClick={isVacation ? this.onRemoveVacation.bind(this, el.vid) : this.onRemoveItem.bind(this, el.data.i)}\r\n            >\r\n              x\r\n            </span>\r\n            :\r\n            undefined\r\n        }\r\n        {!isVacation && ReactSession.get(\"admin\") === 1 ?\r\n          <Link\r\n            to={{\r\n              pathname: \"/detailed-schedule\",\r\n              search: \"?courseNum=\" + el.courseNum,\r\n            }}\r\n          >\r\n            <span\r\n              className=\"remove\"\r\n              style={dsStyle}\r\n            >\r\n              Detailed\r\n            </span>\r\n          </Link>\r\n          :\r\n          undefined\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    console.log(this.props.weekInformation);\r\n    console.log(this.state.items);\r\n    console.log(this.totalWeeks);\r\n    return (\r\n      <React.Fragment>\r\n        <TimelineGrid\r\n          socket={this.socket}\r\n          heightLimit={this.heightLimit}\r\n          instructorArray={this.state.instructorArray}\r\n          createCourse={this.onAddCourse}\r\n          totalWeeks={this.totalWeeks}\r\n          onRemoveUser={this.onRemoveUser}\r\n          onAddUser={this.onAddUser} />\r\n        <div className=\"grid-item-container\" style={{ width: this.totalWeeks * 102, position: \"absolute\" }}>\r\n          <ReactGridLayout\r\n            {...this.props}\r\n            cols={this.totalWeeks}\r\n            maxRows={this.state.heightLimit()}\r\n            layout={this.state.layout}\r\n            onLayoutChange={this.onLayoutChange}\r\n            onResizeStop={this.onItemChange}\r\n            onDragStop={this.onItemChange}\r\n            isDraggable={ReactSession.get(\"admin\") !== undefined ? true : false}\r\n            isResizable={ReactSession.get(\"admin\") !== undefined ? true : false}\r\n          >\r\n            {this.state.items.map(el => this.createElement(el, el.vid !== undefined ? true : false))}\r\n            {/* {this.state.vacations.map(el => this.createElement(el, true))} */}\r\n          </ReactGridLayout>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nfunction findWeekIndex(weekInformation, date) {\r\n  // Search for a week in a particular month\r\n  const monthIndex = date.getMonth();\r\n\r\n  // Get the first day of every week in that month\r\n  const weekRanges = weekInformation.weekRangesArray[monthIndex].times;\r\n\r\n  for (let i = 0; i < weekRanges.length; i++) {\r\n    if (date <= weekRanges[i].date) {\r\n      return weekRanges[i].index;\r\n    }\r\n\r\n  }\r\n\r\n  // Return the index of the last week of the month\r\n  return weekRanges[weekRanges.length - 1].index;\r\n}\r\n\r\nfunction findWeekDate(weekInformation, index) {\r\n  return weekInformation.indexMap[index];\r\n}\r\n","import React from \"react\";\r\nimport Form from \"./Form\";\r\nimport Popup from \"reactjs-popup\";\r\n\r\nexport default function Slot({ name, position, createCourse }) {\r\n\r\n  return (\r\n    <div className=\"grid-slot\" style={{ position: \"relative\", gridArea: position.x + \" / \" + position.y + \" / span 1 / span 1\" }}>\r\n      \r\n      {createCourse &&\r\n        <Popup trigger={\r\n          <button\r\n            name={`${name} slot ${position.y}`}\r\n            style={{ opacity: 0, height: '100%', width: '100%', position: \"absolute\", zIndex: 99 }}\r\n            onClick={() => { console.log(\"CLICKCLACK\") }}\r\n            >\r\n\r\n          </button>\r\n        } modal>\r\n          <div className=\"add-row-modal-bg\">\r\n            <Form text={\"Add Row: \"}\r\n              title={\"course\"}\r\n              textObject={[\"Day Length\", \"Color\"]}\r\n              isCourse={true}\r\n              callBack={(course) => createCourse(course, position.y - 3, position.x - 1)} /> {/*Coordinates are based on CSS grid, needs to be offset*/}\r\n          </div>\r\n          \r\n        </Popup>\r\n      }\r\n      \r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport SlotWeek from \"./Slot_Week\";\r\nimport { ReactSession } from 'react-client-session';\r\n\r\nexport default function RowHeader({position, text, width, height, removeFunction, createCourse}) {\r\n    const createRowSlots = () => {\r\n        let slots = [];\r\n        for(let y = 0; y < width; y++) {\r\n            for(let x = 0; x < height; x++) {\r\n                slots.push({\r\n                    key: text + \"x:\" + (position.x + x) + \"y:\" + (position.y + y),\r\n                    pos: {x: position.x + x, y: position.y + y + 2},\r\n                });\r\n            }\r\n        }\r\n        return slots;\r\n    }\r\n\r\n    const createSlot= (item, i) => {\r\n        return(\r\n            <SlotWeek key={item.key} position={{x: item.pos.x, y: item.pos.y}} \r\n            // Rowheader has 3 rows associated with it, one that can create courses, one that can't (vacation row)\r\n            createCourse={item.pos.x % 3 != 0 ? createCourse : null} \r\n            name={text}/>\r\n        );\r\n    }\r\n\r\n    // const [slotArray, ] = useState(createRowSlots());\r\n\r\n    let slotArray = createRowSlots();\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <div className=\"grid-row-header\" style={{gridArea: position.x + \" / \" + position.y + \" / span 3 / span 2\"}}>\r\n                {\r\n                    ReactSession.get(\"admin\") === 1 ? \r\n                    <button name={text + \" remove\"} className=\"grid-row-header-close\" onClick={removeFunction}>\r\n                        <p>Remove</p>\r\n                    </button>\r\n                    :\r\n                    undefined\r\n                }\r\n                <p>{text}</p>\r\n            </div>\r\n            {slotArray.map((item, i) => {\r\n                return (\r\n                    createSlot(item, i)\r\n                )\r\n            })}\r\n        </React.Fragment>\r\n    );\r\n}","import React, { useEffect } from \"react\";\r\nimport _ from \"lodash\";\r\nimport RowHeader from './RowHeader';\r\nimport { useState } from \"react\";\r\nimport RowHeaderWeek from './RowHeader_Week'\r\n// const [display, setDisplay] = useState('Week');\r\n\r\nexport default function TimelineGrid({socket, heightLimit, instructorArray, createCourse, totalWeeks, onRemoveUser, onAddUser}) {\r\n    const initialRowHeaderArray = instructorArray;\r\n\r\n    // 100px height cells + 4 px total margin, change later if needed\r\n    const rowHeight = 204; \r\n\r\n    // Height for the grid and for correct placment of the add row button\r\n    const [height, setHeight] = useState(initialRowHeaderArray.length * rowHeight);\r\n\r\n    // List of users\r\n    const [rowHeaderArray, setRowHeaderArray] = useState(initialRowHeaderArray);\r\n\r\n    // Add a user to the timeline\r\n    const addRowHeader = (user, emit=true) => {\r\n        if(emit) {\r\n            socket.emit('userAdded', user);\r\n        } else {\r\n            setRowHeaderArray(rowHeaderArray => [...rowHeaderArray, {key: user.username, name: user.firstname + \" \" + user.lastname, timeblocks: [], vacations: []}]);\r\n\r\n            // Set the height limit to the number of users * 2 since each user takes up 2 rows\r\n            heightLimit.set((rowHeaderArray.length + 1) * 2);\r\n            setHeight(height => height + rowHeight);\r\n    \r\n            // Call the add user function passed in from the interactive grid so that it could also be updated\r\n            onAddUser(user);\r\n        }\r\n    }\r\n\r\n    const removeRowHeader = (key, x, emit=true) => {\r\n        // Check that an element has been found and removed before adjusting the row heights\r\n        setRowHeaderArray(rowHeaderArray => _.reject(rowHeaderArray, (element) => {return element.key === key}));\r\n        setHeight(height => height - rowHeight);\r\n\r\n        // Height limit not used, elements are locked to their rows\r\n        heightLimit.set((rowHeaderArray.length - 1) * 2);\r\n\r\n        // Call the add user function passed in from the interactive grid so that it could also be updated\r\n        onRemoveUser(key, x - 1);\r\n\r\n        if(emit)\r\n            socket.emit('userDeleted', key, x); \r\n    }\r\n\r\n    const createRowHeaderWeek = (item, i) => {\r\n        const x = i * 3 + 1;\r\n        return <RowHeaderWeek key={item.key + \"rowHeader\" + i} socket={socket} text={item.name} \r\n                position={{x: x, y: 1}} width={totalWeeks} height={3}\r\n                removeFunction={() => {\r\n                    removeRowHeader(item.key, x)}} \r\n                    createCourse={createCourse}/>\r\n    }\r\n\r\n    //Use effect for attaching socket event listeners once the component mounts\r\n    useEffect(() => {\r\n        socket.on(\"userAdded\", (user, state) => {\r\n            console.log(\"Added: \" + JSON.stringify(user));\r\n            addRowHeader(user, false, state);\r\n        });\r\n\r\n        socket.on(\"userDeleted\", (id, x) => {\r\n            console.log(x);\r\n            console.log(id);\r\n            removeRowHeader(id, x, false);\r\n        });\r\n    }, []);\r\n\r\n    return(\r\n                <React.Fragment>\r\n                    <div className=\"grid-container-layout-weeks\" style={{height:height}}>\r\n                        {\r\n                            rowHeaderArray.map((item, i) => {\r\n                                return (\r\n                                    createRowHeaderWeek(item, i)\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                </React.Fragment>\r\n        )\r\n}","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport TimelineGridWeek from \"./TimelineGrid_Week\";\r\nimport { Link } from 'react-router-dom';\r\nimport { ReactSession } from 'react-client-session';\r\nimport RGL, { WidthProvider } from \"react-grid-layout\";\r\n\r\nexport default class LocalStorageLayout extends React.PureComponent {\r\n  static defaultProps = {\r\n    className: \"layout\",\r\n    rowHeight: 80,\r\n    margin: [2, 2],\r\n    allowOverlap: true,\r\n    preventCollision: false,\r\n    resizeHandles: ['e'],\r\n    compactType: null,\r\n    autoSize: true,\r\n  };\r\n  //###############################################################################\r\n  // ---------DISCLAMER: THIS WILL BE PAINFUL TO LOOK AT. IM SORRY :(.  -love matt\r\n  //############################################################################### \r\n  \r\n  constructor({ props, socket, heightLimit, newInstructorArray, weekInformation,  \r\n    totalWeeks, firstWeek, firstDay, currentWeekDays, currentMonth, currentWeek, currentDate, year }) {\r\n    super(props);\r\n\r\n    let timeLineInformation = weekInformation.weekRangesArray[currentMonth];\r\n\r\n    this.state = {\r\n      // Loops through the instructor array to get all the courses associated with them\r\n      items: newInstructorArray.reduce(function (acc, element, index) {\r\n\r\n        if ((element.timeblocks.length === 0 && element.vacations.length === 0) || weekInformation.length === 0) {\r\n          \r\n          return acc;\r\n        }\r\n\r\n        // Create a course element for every timeblock and concatenate them into one array\r\n        // KEEP IN MIND. it concatenates through every course_assingment in the database. ikr?!?!?!? i didnt do this i swear\r\n        // btw most of this file is copy pasted code. \r\n        let arr = acc.concat(\r\n          element.timeblocks.map((info) => {\r\n\r\n            // this stuff determines the amount of days the course_assignments are from the firstDate -> jan 3, 2022\r\n            const start = getDayRange(currentDate, info.start)\r\n            const end = getDayRange(currentDate, info.end) + 1\r\n            // console.log('timeblock start, end', start, end)\r\n            // console.log('current Date', currentDate)\r\n            // console.log('info.start', info.start.getDate()) \r\n            // console.log('info.end', info.end.getDate())\r\n            // console.log('start', start)\r\n            // console.log('end', end)\r\n            // console.log('currentDate', currentDate)\r\n\r\n            // determines how many days this event will stretch on the week view.\r\n            // it will give any course_assignment that isnt shown in the first week a width of 0. (makes it invisible :0)\r\n            const width = getCourseWidth(start, end, currentDate);\r\n            // console.log('width', width)\r\n            // the data values are basically coordinates and dimensions for a 'react-grid-layout' or RGL.\r\n            // i recommend looking the documentation to know what this is doing (lookup: RGL and react-grid-layout).\r\n            return (\r\n              {\r\n                start: start,\r\n                end: end,\r\n                text: info.name,\r\n                caId: info.caId,\r\n                userId: info.userId,\r\n                courseNum: info.courseNum,\r\n                data: {\r\n                  i: info.caId,\r\n                  x: start,\r\n                  y: index * 2,\r\n                  w: width,\r\n                  h: 1,\r\n                }\r\n              }\r\n            )\r\n          })\r\n        );\r\n        // this isnt not relevant to the week view but i havent touched it so idk if removing it will break the app.(it prob will)\r\n        return arr.concat(\r\n          element.vacations.map((info) => {\r\n            const start = getDayRange(currentDate, info.vacationStart);\r\n            const end = getDayRange(currentDate, info.vacationEnd) + 1;\r\n\r\n            const width = getCourseWidth(start, end, weekInformation, timeLineInformation, currentDate);\r\n            return (\r\n              {\r\n                start: start,\r\n                end: end,\r\n                text: info.userId + \"'s Vacation\",\r\n                uid: info.userId,\r\n                vid: info.vacationId,\r\n                data: {\r\n                  i: info.userId + info.vacationId,\r\n                  x: start,\r\n                  y: (index * 2) + 1,\r\n                  w: width,\r\n                  h: 1,\r\n                }\r\n              }\r\n            )\r\n          })\r\n        );\r\n      }, []),\r\n      heightLimit: heightLimit.get,\r\n      weekInformation: weekInformation,\r\n      instructorArray: newInstructorArray,\r\n      currentWeekDays: currentWeekDays,\r\n      // i added these. again sorry. i made the same value twice and didnt realize it.\r\n      //makes a static value that can be read all over this file.\r\n      firstWeek: currentWeek,\r\n      currentWeek: currentWeek\r\n\r\n    };\r\n    //makes a static value that can be read all over this file. see next change at line 243\r\n    this.firstDate = currentDate\r\n    \r\n    this.socket = socket;\r\n    this.heightLimit = heightLimit;\r\n    this.totalWeeks = totalWeeks;\r\n    this.mWeeks = currentWeekDays;\r\n    this.monthItems = this.state.items.filter((info) => {\r\n      const start = info.start;\r\n      const end = info.end;\r\n      // console.log('l99 start, end', start, end)\r\n      const width = getCourseWidth(start, end, currentDate);\r\n      console.log(\"monthItems is called\")\r\n\r\n      if (width === 0) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n    this.itemLayout = [];\r\n\r\n    this.socket.on(\"itemChanged\", (item) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(item));\r\n\r\n      this.replaceItem(item);\r\n    });\r\n\r\n    this.socket.on(\"courseAdded\", (item) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(item));\r\n\r\n      var date = new Date(item.start);\r\n\r\n      var courseYear = date.getFullYear();\r\n\r\n      var adjustment = (courseYear - this.props.year) * 12;\r\n\r\n      date.setMonth(date.getMonth() - adjustment);\r\n\r\n      item.start = date.getTime();\r\n\r\n      this.onAddCourse(item, parseInt(item.x), parseInt(item.y), false);\r\n    });\r\n\r\n    this.socket.on(\"courseDeleted\", (i) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(i));\r\n\r\n      this.onRemoveItem(i, false);\r\n    });\r\n\r\n    this.socket.on(\"vacationApproved\", (vacation) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(vacation));\r\n\r\n      this.onAddVacation(vacation);\r\n    });\r\n\r\n    this.socket.on(\"vacationDeleted\", (vacation) => {\r\n      console.log(\"Item Received: \" + JSON.stringify(vacation));\r\n\r\n      this.onRemoveVacation(vacation.vacation_id, false);\r\n    });\r\n  }\r\n\r\n  replaceItem = (item) => {\r\n    for (let i = 0; i < this.state.layout.length; i++) {\r\n      if (this.state.layout[i].i === item.i) {\r\n        const newLayout = this.state.layout.slice();\r\n        newLayout[i] = item;\r\n\r\n\r\n        this.setState({\r\n          layout: newLayout\r\n        });\r\n\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  onLayoutChange = (layout) => {\r\n\r\n    this.setState({\r\n      layout: layout\r\n    });\r\n  }\r\n\r\n  onItemChange = (layout, oldItem, newItem) => {\r\n    // Update the dates on the postgresql database\r\n    const startDate = findWeekDate(this.state.weekInformation, newItem.x);\r\n    const endDate = findWeekDate(this.state.weekInformation, newItem.w + newItem.x - 1);\r\n\r\n    // HTTP request instead of sockets\r\n    const index = _.findIndex(this.monthItems, (element) => { return element.data.i.toString() === newItem.i });\r\n    const foundItem = this.monthItems[index];\r\n\r\n    // Restrict movement of the course to one row only\r\n    const yAxisLockedItem = newItem;\r\n    yAxisLockedItem.y = oldItem.y;\r\n    this.replaceItem(yAxisLockedItem);\r\n\r\n    const instructor = this.state.instructorArray[Math.floor(newItem.y / 2)];\r\n    this.socket.emit('itemChanged', yAxisLockedItem, { username: instructor.key, courseNum: foundItem.courseNum, caId: foundItem.caId, start: startDate.getTime(), end: endDate.getTime() });\r\n  }\r\n\r\n  onAddVacation = (info) => {\r\n    const start = getDayRange(this.state.current_date, new Date(info.start_date));\r\n    const end = getDayRange(this.state.current_date, new Date(info.end_date)) + 1;\r\n    const index = _.findIndex(this.state.instructorArray, (element) => { return element.key === info.username });\r\n\r\n    const newVacation = {\r\n      text: info.username + \"'s Vacation\",\r\n      uid: info.username,\r\n      vid: info.vacation_id,\r\n      data: {\r\n        i: info.username + info.vacation_id,\r\n        x: start,\r\n        y: (index * 2) + 1,\r\n        w: end - start,\r\n        h: 1,\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      items: this.state.items.concat(\r\n        newVacation\r\n      )\r\n    });\r\n  }\r\n\r\n  onAddCourse = (course, x = 0, y = 0, emit = true) => {\r\n    const w = parseInt(course.weeklength);\r\n\r\n\r\n    // this broke in the begining of adjusting the code. i dont know how to fix it yet. \r\n    // totally doable tho. see next change on line 422\r\n    const startDate = findWeekDate(this.state.weekInformation, x, this.props.firstWeek);\r\n    const endDate = findWeekDate(this.state.weekInformation, w + x, this.props.firstWeek);\r\n    const instructor = this.state.instructorArray[Math.floor(y / 2)];\r\n\r\n    const start = getCourseWidth(this.props.current_date, startDate);\r\n    const end = getCourseWidth(this.props.current_date, endDate);\r\n\r\n    // User/ instructor was deleted, can't create a course\r\n    if (instructor === undefined) {\r\n      return;\r\n    }\r\n\r\n    if (emit) {\r\n      this.socket.emit('courseAdded', { ...course, x: x, y: y, instructorKey: instructor.key, courseNum: course.number, start: startDate.getTime(), end: endDate.getTime() });\r\n    } else {\r\n      this.setState({\r\n        // Add a new item\r\n        items: this.state.items.concat({\r\n          start: start,\r\n          end: end,\r\n          text: course.title,\r\n          userId: instructor.key,\r\n          courseNum: course.number,\r\n          caId: course.caId,\r\n          data: {\r\n            i: course.caId,\r\n            x: x,\r\n            y: y,\r\n            w: w,\r\n            h: 1,\r\n          }\r\n        }),\r\n      });\r\n    }\r\n    // console.log(this.state.items);\r\n  }\r\n\r\n  onRemoveItem(i, emit = true) {\r\n    // Find the index of the course element in the state\r\n    const index = _.findIndex(this.state.items, (element) => { return element.data.i === i });\r\n    const foundItem = this.state.items[index];\r\n\r\n    // Emit a message to all other applications that a course has been edeleted\r\n    if (emit) {\r\n      this.socket.emit(\"courseDeleted\", foundItem, i);\r\n    }\r\n\r\n    // Remove the element from the state\r\n    this.setState({ items: _.reject(this.state.items, (element) => { return element.data.i === i }) });\r\n  }\r\n\r\n  onRemoveVacation(vid, emit = true) {\r\n    if (emit) {\r\n      this.socket.emit(\"vacationDeleted\", { vacation_id: vid });\r\n    }\r\n\r\n    // Remove the element from the state\r\n    this.setState({ items: _.reject(this.state.items, (element) => { return element.vid === vid }) });\r\n  }\r\n\r\n  onRemoveUser = (key, y) => {\r\n    const initialLength = this.state.instructorArray.length;\r\n    this.setState({ instructorArray: _.reject(this.state.instructorArray, (element) => { return element.key === key }) },\r\n      () => {\r\n        // No user/ instructor found to delete\r\n        if (this.state.instructorArray.length !== initialLength) {\r\n          // Remove elements on the same row\r\n          console.log(\"Removed items at: \" + y);\r\n          this.setState({ items: _.reject(this.state.items, (element) => { return element.data.y === y || element.data.y === y + 1 }) }\r\n            , () => {\r\n              // console.log(this.state.items);\r\n              // Move course elements up if they are below the user that was deleted\r\n              this.setState({\r\n                items: _.reduce(this.state.items, (acc, element) => {\r\n                  if (element.data.y > y) {\r\n                    const newElement = element;\r\n                    newElement.data.y -= 2;\r\n                    return [...acc, newElement];\r\n                  } else {\r\n                    return [...acc, element];\r\n                  }\r\n                }, [])\r\n              },\r\n                () => {\r\n                  this.setState({\r\n                    layout: _.reduce(this.state.items, (acc, element) => {\r\n                      if (element.vid !== undefined) {\r\n                        const itemData = { ...element.data, isDraggable: false, isResizable: false };\r\n                        return [...acc, itemData];\r\n                      } else {\r\n                        const itemData = element.data;\r\n                        return [...acc, itemData];\r\n                      }\r\n                    }, [])\r\n                  });\r\n                  // console.log(this.state.layout);\r\n                });\r\n            });\r\n          // Reset layout so that the items are shifted up visually\r\n        }\r\n      });\r\n  }\r\n\r\n  onAddUser = (user) => {\r\n    this.setState({ instructorArray: [...this.state.instructorArray, { key: user.username, name: user.firstname + \" \" + user.lastname, timeblocks: [], vacations: [] }] });\r\n  }\r\n\r\n  createElement(el, isVacation = false, layout) {\r\n    const removeStyle = {\r\n      position: \"absolute\",\r\n      right: \"2px\",\r\n      top: 0,\r\n      cursor: \"pointer\",\r\n      padding: \"5px\",\r\n      color: \"black\"\r\n    };\r\n    const dsStyle = {\r\n      position: \"absolute\",\r\n      left: \"2px\",\r\n      bottom: 0,\r\n      cursor: \"pointer\",\r\n      padding: \"5px\",\r\n      color: \"black\"\r\n    };\r\n    return (\r\n      <div key={el.data.i} data-grid={isVacation ? { ...el.data, isDraggable: false, isResizable: false } : el.data}\r\n        name={el.text + \" el\"}>\r\n        <span className=\"text\">{el.text}</span>\r\n        {\r\n          ReactSession.get(\"admin\") !== undefined ?\r\n            <span\r\n              className=\"remove\"\r\n              style={removeStyle}\r\n              onClick={isVacation ? this.onRemoveVacation.bind(this, el.vid) : this.onRemoveItem.bind(this, el.data.i)}\r\n            >\r\n              x\r\n            </span>\r\n            :\r\n            undefined\r\n        }\r\n        {!isVacation && ReactSession.get(\"admin\") !== undefined ?\r\n          <Link\r\n            to={{\r\n              pathname: \"/detailed-schedule\",\r\n              search: \"?courseNum=\" + el.courseNum,\r\n            }}\r\n          >\r\n            <span\r\n              className=\"remove\"\r\n              style={dsStyle}\r\n            >\r\n              Detailed\r\n            </span>\r\n          </Link>\r\n          :\r\n          undefined\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  createItemGrid(props) {\r\n\r\n    const ReactGridLayout = WidthProvider(RGL);\r\n\r\n    this.updateItems();\r\n    // console.log(this.state.layout,this.state.heightLimit(),this.props.currentWeekDays,)\r\n    return (\r\n      <ReactGridLayout\r\n        {...props}\r\n        cols={this.props.currentWeekDays}\r\n        maxRows={this.state.heightLimit()}\r\n        layout={this.state.layout}\r\n        isDraggable={ReactSession.get(\"admin\") !== undefined ? true : false}\r\n        isResizable={ReactSession.get(\"admin\") !== undefined ? true : false}\r\n        autoSize={true}\r\n                                                                // just added 'false'   \\/   and this  \\/ 'this.props.currentWeekDays' next change line 434\r\n      >\r\n        {this.monthItems.map(el => this.createElement(el, el.vid !== undefined ? true : false, this.props.currentWeekDays))} \r\n      </ReactGridLayout>\r\n    )\r\n  }\r\n\r\n  // componentDidUpdate(prevProps, prevState) {\r\n  //   if (this.props.weekInformation.weekRangesArray[this.props.currentMonth].month !== prevProps.weekInformation.weekRangesArray[this.props.currentMonth].month) {\r\n  //     this.onLayoutChange(this.itemLayout);\r\n  //   }\r\n  // }\r\n  // changed this as well. just altered if statement to listen for a change in current_date. next change 457\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.current_date !== prevProps.current_date) {\r\n      this.onLayoutChange(this.itemLayout);\r\n\r\n    }\r\n  }\r\n\r\n\r\n  resize = () => this.forceUpdate();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('resize', this.resize);\r\n  }\r\n\r\n  updateItems() {\r\n\r\n    var items = [];\r\n\r\n    var random = this.state.items.filter((item) => {\r\n      const start = item.start;\r\n      const end = item.end;\r\n\r\n\r\n      const width = getCourseWidth(start, end, this.props.currentDate, this.firstDate); //i change 'width' to be the result of this function i made. same thing on line 468\r\n\r\n      if (width === 0) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    })\r\n\r\n\r\n    random.forEach(element => {\r\n      const width = getCourseWidth(element.start, element.end, this.props.currentDate, this.firstDate);//i change 'width' to be the result of this function i made. next change on line 499\r\n      element.data.w = width;\r\n      element.data.i = element.data.i.toString();\r\n      element.data.maxW = this.props.currentWeekDays;\r\n      items.push(element.data);\r\n    });\r\n    this.monthItems = random;\r\n    this.itemLayout = items;\r\n\r\n    return items;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <TimelineGridWeek\r\n          socket={this.socket}\r\n          heightLimit={this.heightLimit}\r\n          instructorArray={this.state.instructorArray}\r\n          createCourse={this.onAddCourse}\r\n          totalWeeks={this.props.currentWeekDays}\r\n          onRemoveUser={this.onRemoveUser}\r\n          onAddUser={this.onAddUser} />\r\n        <div className=\"grid-item-container-week\" style={{ width: this.props.currentWeekDays * 178, position: \"absolute\" }}>\r\n          {this.createItemGrid(this.props)}\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n// made this new function. im sure there is a better way. \r\nfunction getCourseWidth(start, end, currentDate, firstDate='nothing :D') {\r\n  // monday and friday = how many days they are from jan 3 2022. if the dates for monday and friday are in 2021 they are negative. \r\n  let [monday, friday] = getMonFri(currentDate, firstDate)\r\n  \r\n  // start and end values are in the same format as monday and friday.\r\n  // course is an incremented array of 'day values'\r\n  const course = _.range(start, end)\r\n  // week is an incremented array of 'day values'\r\n  const week = _.range(monday, friday + 1)\r\n\r\n  // console.log('week', week) \r\n  // console.log(' course', course)\r\n  \r\n  // intersect is an array of all the values the week and course share.\r\n  const intersection = course.filter(value => week.includes(value));\r\n  \r\n  // this counts the array. now you have a width\r\n  return intersection.length\r\n}\r\n\r\n\r\n// this function gets how many days apart the current view's monday and friday are from jan 3 2022\r\nfunction getMonFri(currentDate, firstDate) {\r\n  const new_date = new Date(currentDate)\r\n  const monday = new_date.getDate()\r\n  const friday = monday + 4\r\n  \r\n  if ((typeof firstDate !== 'undefined') && (firstDate !== 'nothing :D')){\r\n    let new_monday = getDayRange(firstDate, currentDate)\r\n    let new_friday = getDayRange(firstDate, currentDate) + 4\r\n\r\n    return [new_monday, new_friday]\r\n  } else {\r\n    return [monday, friday]\r\n  }\r\n\r\n}\r\n\r\n// gets the amount of days between two dates\r\nfunction getDayRange(d1, d2) {\r\n  \r\n  return Math.round((d2.getTime() - d1.getTime()) / (1000 * 3600 * 24))\r\n}\r\n\r\n\r\n\r\nfunction findWeekIndex(weekInformation, date) {\r\n  \r\n\r\n  // Search for a week in a particular month\r\n  const monthIndex = date.getMonth();\r\n\r\n  // Get the first day of every week in that month\r\n  const weekRanges = weekInformation.weekRangesArray[monthIndex].times;\r\n\r\n  for (let i = 0; i < weekRanges.length; i++) {\r\n    if (date <= weekRanges[i].date) {\r\n      return weekRanges[i].index;\r\n    }\r\n\r\n  }\r\n\r\n  // Return the index of the last week of the month\r\n  return weekRanges[weekRanges.length - 1].index;\r\n}\r\n\r\nfunction findWeekDate(weekInformation, index, firstDate) {\r\n  return weekInformation.indexMap[index];\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Month({ title, socket, position, weeks }) {\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"grid-month\" style={{ gridArea: position.x + \" / \" + position.y + \" / span 1 / span \" + weeks.length }}>\r\n                <h2 className=\"grid-header\">{title}</h2>\r\n            </div>\r\n            {\r\n                weeks.map((item, i) => {\r\n                    return <div key={title + item} className=\"grid-day\" style={{ gridArea: (position.x + 1) + \" / \" + (position.y + i) + \" / span 1 / span 1\" }}>\r\n                        {item}\r\n                    </div>\r\n                })\r\n            }\r\n        </React.Fragment>\r\n    );\r\n}","import React from \"react\";\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Stack from '@mui/material/Stack';\r\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\r\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\r\nimport {useEffect} from 'react';\r\nimport { useState } from 'react';\r\n\r\n// this code is copy paste from month.jsx. i altered it to be a week view.\r\nexport default function Week({ title, socket, position, next, previous, currentYear, current_date }) {\r\n    \r\n    const weekDayNameArray = [\r\n        'Monday',\r\n        'Tuesday',\r\n        'Wednesday',\r\n        'Thursday',\r\n        'Friday'\r\n    ]\r\n\r\n    let d2 = new Date(current_date)\r\n    const weeks = weekDayNameArray.map((element) => {\r\n        let weekDayName = String(element + '  ' + String(d2.getDate()))\r\n        d2.setDate(d2.getDate() + 1)\r\n        return  weekDayName\r\n    })\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"grid-month\" style={{ gridArea: position.x +\" / \" + position.y  + \" / span 1 / span \" + weeks.length }}>\r\n                <Stack direction=\"row\" spacing={1}>\r\n                    <IconButton aria-label=\"back\" onClick={previous}>\r\n                        <ArrowBackIosIcon />\r\n                    </IconButton>\r\n                    <h2 className=\"grid-header\">{title}</h2>\r\n                    <IconButton aria-label=\"next\" onClick={next}>\r\n                        <ArrowForwardIosIcon />\r\n                    </IconButton>\r\n                    <h2 className=\"grid-header\">{currentYear}</h2>\r\n                </Stack>\r\n            </div>\r\n            {\r\n                weeks.map((item, i) => {\r\n                    return <div key={title + item} className=\"grid-day\" style={{ gridArea: (position.x + 1) + \" / \" + (position.y + i) + \" / span 1 / span 1\" }}>\r\n                        {item}\r\n                        \r\n                    </div>\r\n                })\r\n            }\r\n        </React.Fragment>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport Month from './Month';\r\nimport { useState } from \"react\";\r\nimport NoCollisionLayout from './NoCollisionLayout';\r\nimport { ReactSession } from 'react-client-session';\r\nimport AdminNav from \"./AdminNav\";\r\nimport UserNav from \"./UserNav\";\r\nimport DefaultNav from \"./DefaultNav\";\r\nimport '../navbar.css';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select from '@mui/material/Select';\r\nimport NoCollisionYear from './NoCollision_Year';\r\n// week import\r\nimport NoCollisionWeek from './NoCollision_Week';\r\nimport MonthYear from './Month_Year';\r\nimport Week from './Week';\r\n\r\n\r\nfunction SelectNav(props) {\r\n    const userStatus = props.userStatus;\r\n    if (userStatus === 1) {\r\n        return <AdminNav />\r\n    }\r\n    if (userStatus === 0) {\r\n        return <UserNav />\r\n    }\r\n    return <DefaultNav />\r\n}\r\n\r\nexport default function Timeline({ socket, heightLimit, instructorArray }) {\r\n\r\n    const [year, setYear] = useState(2022);\r\n\r\n    let thisYear = new Date();\r\n    thisYear.setFullYear(year, 0, 1);\r\n\r\n    // this is a base for when the app starts\r\n    let startYear =  new Date(\"Jan 01, 2022 00:00:00\");\r\n\r\n\r\n    // console.log('instructorArray',instructorArray);\r\n    // console.log('thisYear',thisYear);\r\n\r\n    let weekInformation = { weekNum: 0, weekRangesArray: [], indexMap: {} };\r\n\r\n\r\n    const initialMonthArray = getMonthArray(thisYear);\r\n\r\n    // const initialDayArray = getWeekDayArray(thisYear);\r\n\r\n    const [year_month_array, setYearMonthArray] = useState(initialMonthArray);\r\n\r\n    const monthNameArray = [\r\n        \"January\",\r\n        \"February\",\r\n        \"March\",\r\n        \"April\",\r\n        \"May\",\r\n        \"June\",\r\n        \"July\",\r\n        \"August\",\r\n        \"September\",\r\n        \"October\",\r\n        \"November\",\r\n        \"December\",\r\n    ];\r\n    // week view\r\n    const weekDayNameArray = [\r\n        'Monday',\r\n        'Tuesday',\r\n        'Wednesday',\r\n        'Thursday',\r\n        'Friday'\r\n    ]\r\n\r\n    const firstWeekDayNameArray = [\r\n        'Monday 3',\r\n        'Tuesday 4',\r\n        'Wednesday 5',\r\n        'Thursday 6',\r\n        'Friday 7'\r\n    ]\r\n\r\n\r\n    const monthWeekArray = [\r\n        5, 4, 4, 5, 4, 4, 5, 4, 4, 5\r\n    ];\r\n\r\n\r\n    \r\n\r\n    const firstWeekArray = getFirstWeek();\r\n\r\n    const [monthArray,] = useState(year_month_array);\r\n\r\n    const [current_month, setCurrentMonth] = useState(0);\r\n\r\n    const [current_month_name, setCurrentMonthName] = useState(monthNameArray[current_month])\r\n    // week view\r\n    const [current_week, setCurrentWeek] = useState(0);\r\n\r\n    const [month_weeks, setMonthWeeks] = useState(monthWeekArray[current_month]);\r\n\r\n    const [first_week, setFirstWeek] = useState(firstWeekArray[0]);\r\n    // week view\r\n    const [first_day, setFirstDay] = useState(1);\r\n\r\n    const [display, setDisplay] = useState('Week');\r\n    //week view\r\n    const [current_date, setCurrentDate] = useState(new Date(\"Jan 03, 2022 00:00:00\"))\r\n    //week view\r\n    const [current_day_name_array, setDayNameArray] = useState(firstWeekDayNameArray)\r\n    \r\n    console.log('current_date', current_date)\r\n\r\n    function getMonthArray(year) {\r\n\r\n        const monthArray = Array.from(Array(12).keys()).map((item, i) => {\r\n            return ({\r\n                monthIndex: i,\r\n                weeks: getWeeks(year, i, weekInformation),\r\n            });\r\n        });\r\n\r\n        return monthArray;\r\n    }\r\n\r\n\r\n    let totalWeeks = 0;\r\n    for (let i = 0; i < monthArray.length; i++) {\r\n        totalWeeks += monthArray[i].weeks.length;\r\n    }\r\n\r\n    function nextMonth() {\r\n\r\n\r\n        if (current_month === 11) {\r\n            setYear(year + 1);\r\n            thisYear.setFullYear(year, 0, 1);\r\n\r\n            thisYear.setMonth(thisYear.getMonth() + 12);\r\n\r\n            setYearMonthArray(getMonthArray(thisYear));\r\n\r\n\r\n            setCurrentMonth(0);\r\n            setMonthWeeks(weekInformation.weekRangesArray[0].times.length);\r\n            setFirstWeek(firstWeekArray[0]);\r\n        } else {\r\n            setCurrentMonth(current_month + 1);\r\n            setMonthWeeks(weekInformation.weekRangesArray[current_month + 1].times.length);\r\n            setFirstWeek(firstWeekArray[current_month + 1]);\r\n        }\r\n    }\r\n\r\n    function previousMonth() {\r\n\r\n        if (current_month === 0) {\r\n            setYear(year - 1);\r\n\r\n            thisYear.setMonth(thisYear.getMonth() - 12);\r\n\r\n            setYearMonthArray(getMonthArray(thisYear));\r\n\r\n            setCurrentMonth(11);\r\n            setMonthWeeks(weekInformation.weekRangesArray[11].times.length);\r\n            setFirstWeek(firstWeekArray[11]);\r\n        } else {\r\n            setCurrentMonth(current_month - 1);\r\n            setMonthWeeks(weekInformation.weekRangesArray[current_month - 1].times.length);\r\n            setFirstWeek(firstWeekArray[current_month - 1]);\r\n        }\r\n    }\r\n    // see the 'previousWeek' function. its the same thing as this but mirrored.\r\n    // console.log(new Date(2022, 01, 32))\r\n    const nextWeek = async () => {\r\n        let d2 = new Date(current_date)\r\n\r\n        setDayNameArray(weekDayNameArray.map((element) => {\r\n            let weekDayName = String(element + '  ' + String(d2.getDate()))\r\n            d2.setDate(d2.getDate() + 1)\r\n            return  weekDayName\r\n        }))\r\n\r\n\r\n\r\n        let new_date = new Date(current_date)\r\n        const d = new Date(new_date.setDate(current_date.getDate() + 7))\r\n\r\n        let next_week_friday = new Date(new_date)\r\n        next_week_friday.setDate(current_date.getDate() + 4)\r\n        const friday_month = next_week_friday.getMonth();\r\n\r\n        if (current_month_name.includes('-')) {\r\n            setCurrentMonthName(monthNameArray[current_month])\r\n        }\r\n\r\n        if ( friday_month!=current_date.getMonth() ){\r\n            if (current_month == 11){\r\n                setCurrentMonthName(monthNameArray[current_month] + ' - ' + monthNameArray[0] );\r\n                setCurrentMonth(0);\r\n                setYear(year + 1);\r\n            } else {\r\n                setCurrentMonthName(monthNameArray[current_month] + ' - ' + monthNameArray[current_month + 1] )\r\n                setCurrentMonth(current_month + 1);\r\n            }\r\n        } else {\r\n            if (current_date.getMonth() != d.getMonth()) {\r\n                if (current_month == 11) {\r\n                    setCurrentMonthName(monthNameArray[0])\r\n                    setCurrentMonth(0);\r\n                    setYear(year + 1);\r\n                } else {\r\n                    setCurrentMonthName(monthNameArray[current_month + 1])\r\n                    setCurrentMonth(current_month + 1);\r\n                }\r\n            }\r\n        }\r\n        \r\n        setCurrentDate(d)\r\n        // setDayNameArray(changeDayNameArray())\r\n\r\n    }\r\n\r\n    // this function determines the week header for the previous week\r\n    function previousWeek() {\r\n        let d2 = new Date(current_date)\r\n\r\n        setDayNameArray(weekDayNameArray.map((element) => {\r\n            let weekDayName = String(element + '  ' + String(d2.getDate()))\r\n            d2.setDate(d2.getDate() + 1)\r\n            return  weekDayName\r\n        }))\r\n\r\n\r\n        // Step 1: find the date of last week monday\r\n        let d = new Date(current_date)\r\n        //last week monday\r\n        d.setDate(d.getDate() - 7)\r\n\r\n\r\n        // step 2: find the date of last friday (monday + 4 days)\r\n        let next_date = new Date(d)\r\n        next_date.setDate(next_date.getDate() + 4)\r\n        const friday_month = next_date.getMonth()\r\n\r\n        // This checks if the last month title was like jan-feb.\r\n        // if so change it to a regular month\r\n        if (current_month_name.includes('-')) {\r\n            setCurrentMonthName(monthNameArray[current_month])\r\n        }\r\n\r\n        console.log(current_month)\r\n        // tip: these nested if statements should be nested the other way round. lots of redundency here.\r\n        // if friday and monday of last week is not the same.\r\n        // then make title like jan-feb\r\n        if ( friday_month!=current_date.getMonth() ){\r\n            \r\n            // before setting the title determine if the next month of the previous year (going from jan to dec)\r\n            if (current_date.getMonth() == 0){\r\n                setCurrentMonthName(monthNameArray[current_date.getMonth()] + ' - ' + monthNameArray[11] )\r\n                setCurrentMonth(11);\r\n                setYear(year - 1);\r\n            // if not then do this.\r\n            } else {\r\n                setCurrentMonthName(monthNameArray[current_date.getMonth()] + ' - ' + monthNameArray[current_month - 1] )\r\n                setCurrentMonth(current_month - 1);\r\n            }\r\n        } else {\r\n            // if previous week is in a different month entirely. then set month title to ie jan\r\n            if (current_date.getMonth() != d.getMonth()) {\r\n                // before setting the title determine if the next month of the previous year (going from jan to dec)\r\n                if (current_date.getMonth() == 0){\r\n                    setCurrentMonthName(monthNameArray[11])\r\n                    setCurrentMonth(11);\r\n                    setYear(year - 1);\r\n                // if not then do this.\r\n                } else {\r\n                    setCurrentMonthName(monthNameArray[current_date.getMonth() - 1])\r\n                    setCurrentMonth(current_date.getMonth() - 1);\r\n                }\r\n            }\r\n        }\r\n        // change the current_date (this variable is important for displaying the course_assingments)\r\n        setCurrentDate(d)\r\n        // change the (monday 1, tuesday 2.. etc)\r\n  \r\n        // setDayNameArray(changeDayNameArray())\r\n\r\n    }\r\n\r\n    // creates a new label for each weekday header (from monday 3, tuesday 4.... to monday 10, tuesday 11...)\r\n    function changeDayNameArray() {\r\n        const d = new Date(current_date)\r\n        const newNameArray = weekDayNameArray.map((element) => {\r\n            let weekDayName = String(element + '  ' + String(d.getDate()))\r\n            d.setDate(d.getDate() + 1)\r\n            return  weekDayName\r\n        })\r\n        return newNameArray\r\n    }\r\n\r\n    function getFirstWeek() {\r\n        var firstWeek = [0];\r\n\r\n        for (var i = 0; i < 12; i++) {\r\n            var weekNumber = weekInformation.weekRangesArray[i].times.length + firstWeek[i];\r\n            firstWeek.push(weekNumber);\r\n        }\r\n        return firstWeek;\r\n    }\r\n\r\n    \r\n    const createWeekColumns = () => {\r\n        \r\n        return (\r\n            <NoCollisionLayout socket={socket} heightLimit={heightLimit} newInstructorArray={instructorArray}\r\n            weekInformation={weekInformation} totalWeeks={totalWeeks} firstDate={new Date(\"Jan 03, 2022 00:00:00\")}\r\n            currentMonthWeeks={month_weeks} currentMonth={current_month} year={year} />\r\n            )\r\n        }\r\n    // this is just for the week view rows and instructor header. it imports 'noCollision_week.jsx'.\r\n    // keep in mind some of these values are useless as it was originally copied from the month_view one above ^\r\n    const createDayColumns = () => {\r\n        const current_week_date = ''\r\n        return (\r\n            <NoCollisionWeek socket={socket} heightLimit={heightLimit} newInstructorArray={instructorArray}\r\n            weekInformation={weekInformation} totalWeeks={7} currentDate={current_date} firstWeek={first_week} firstDay={first_day}\r\n            currentWeekDays={5} currentMonth={current_month} currentWeek={current_week} year={year} />\r\n            )\r\n        }\r\n    const createMonth = (item, i) => {\r\n        return (\r\n            <Month key={monthNameArray[item.monthIndex] + \" month\"} title={monthNameArray[item.monthIndex]}\r\n                position={{ x: 1, y: i === 0 ? i + 3 : getNumberOfWeeks(year_month_array, i) + 3 }} weeks={item.weeks}\r\n                next={nextMonth} previous={previousMonth} currentYear={year} />\r\n        );\r\n    }\r\n            \r\n    const createMonthYear = (item, i) => {\r\n        return <MonthYear key={monthNameArray[item.monthIndex] + \" month\"} title={monthNameArray[item.monthIndex]}\r\n            position={{ x: 1, y: i === 0 ? i + 3 : getNumberOfWeeks(initialMonthArray, i) + 3 }} weeks={item.weeks} />\r\n    }\r\n    // this is just for the week view header. it imports 'Week.jsx'\r\n    // keep in mind some of these values are useless as it was originally copied from the month_view one above ^ 'createMonth()'\r\n    const createWeek = (week_day_names, item, i) => {\r\n        console.log('createWeek says hi')\r\n        return (\r\n            <Week key={monthNameArray[current_month] + \" month\"} title={current_month_name}\r\n                position={{ x: 1, y: i === 0 ? i + 3 : 3}} \r\n                next={nextWeek} previous={previousWeek} currentYear={year} current_date={current_date} />\r\n        );\r\n    }\r\n\r\n\r\n    const handleChange = (event) => {\r\n        setDisplay(event.target.value);\r\n    }\r\n\r\n    const createDisplayOption = () => {\r\n\r\n        return (\r\n            <div>\r\n                <FormControl sx={{ m: 1, minWidth: 80 }}>\r\n                    <InputLabel id=\"display-select-label\">View</InputLabel>\r\n                    <Select\r\n                        labelId=\"display-select-label\"\r\n                        id=\"display-select\"\r\n                        value={display}\r\n                        onChange={handleChange}\r\n                        autoWidth\r\n                        label=\"Display\"\r\n                    >\r\n                        <MenuItem value={\"Week\"}>Week</MenuItem>\r\n                        <MenuItem value={\"Year\"}>Year</MenuItem>\r\n                        <MenuItem value={\"Month\"}>Month</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    \r\n\r\n    if (display === \"Month\") {\r\n        return (\r\n            <React.Fragment>\r\n                <SelectNav userStatus={ReactSession.get(\"admin\")} />\r\n                <div className=\"grid-container-months\">\r\n                    {\r\n                        createDisplayOption()\r\n                    }\r\n                    {\r\n                        createMonth(monthArray[current_month])\r\n                    }\r\n                </div>\r\n                {\r\n                    createWeekColumns()\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    } else if (display === \"Week\") {\r\n        return (\r\n            <React.Fragment>\r\n                <SelectNav userStatus={ReactSession.get(\"admin\")} />\r\n                <div className=\"grid-container-weeks\">\r\n                    {\r\n                        createDisplayOption()\r\n                    }\r\n                    {\r\n                        createWeek(current_day_name_array,monthArray[current_month]    )\r\n                    }\r\n                </div>\r\n                {\r\n                    createDayColumns()\r\n                }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n    if (display === \"Year\") {\r\n        return (\r\n            <React.Fragment>\r\n                <SelectNav userStatus={ReactSession.get(\"admin\")} />\r\n                <div className=\"grid-container-months\">\r\n                    {\r\n                        createDisplayOption()\r\n                    }\r\n                    {\r\n                        monthArray.map((item, i) => {\r\n                            return (\r\n                                createMonthYear(item, i)\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n                <NoCollisionYear socket={socket} heightLimit={heightLimit} newInstructorArray={instructorArray} weekInformation={weekInformation} totalWeeks={totalWeeks} />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nfunction getWeeks(startDate, month, weekInformation) {\r\n    const weeks = [];\r\n    const weekTimes = { month: startDate.getMonth(), times: [] };\r\n\r\n    // Retrieve first days of every week in all of the months\r\n    while (startDate.getMonth() === month) {\r\n        // Save the date to an array to position courses in the timeline\r\n        const index = weekInformation.weekNum + weeks.length\r\n        const date = new Date(startDate.getTime());\r\n        weekTimes.times.push({ index: index, date: date });\r\n        weekInformation.indexMap[index] = date;\r\n\r\n        // Get the first day of every week\r\n        weeks.push(startDate.getDate());\r\n\r\n        // Increment the date by a week\r\n        startDate.setDate(startDate.getDate() + 7);\r\n    }\r\n\r\n    weekInformation.weekRangesArray.push(weekTimes);\r\n    weekInformation.weekNum += weeks.length;\r\n    return weeks;\r\n}\r\n\r\n\r\n\r\nfunction getNumberOfWeeks(weeks, index) {\r\n    let sum = 0;\r\n\r\n    for (let i = index - 1; i >= 0; i--) {\r\n        sum += weeks[i].weeks.length;\r\n    }\r\n\r\n    return sum;\r\n}","import React from \"react\";\r\nimport \"./style.css\";\r\nimport './gridstyles.css';\r\nimport \"./timeline.css\";\r\nimport Timeline from './components/Timeline';\r\n\r\nconst END_POINT_ROOT = \"/\";\r\nconst INSTRUCTORS_RESOURCE = \"users\";\r\n\r\nexport default class App extends React.Component {\r\n  state = {\r\n    instructors: [],\r\n    heightLimit: 8,\r\n    loaded: false,\r\n    error: \"\"\r\n  };\r\n\r\n  constructor({ socket }) {\r\n    super();\r\n    this.socket = socket;\r\n  }\r\n\r\n  getHeightLimit() {\r\n    return this.state.heightLimit;\r\n  }\r\n\r\n  setHeightLimit(heightLimit) {\r\n    this.setState({ heightLimit: heightLimit });\r\n    console.log(\"HeightLimit: \" + this.state.heightLimit);\r\n  }\r\n\r\n  parseData = (data) => {\r\n    if (!data) {\r\n      return null;\r\n    }\r\n    const parsedData = JSON.parse(data);\r\n\r\n    let instructorArray = {};\r\n    for (let i = 0; i < parsedData.length; i++) {\r\n      const key = parsedData[i].username;\r\n\r\n      let instructor;\r\n      // Check if instructor is already in the object\r\n      if (instructorArray[key]) {\r\n        instructor = instructorArray[key];\r\n      } else {\r\n        instructor = {};\r\n        instructor.timeblocks = [];\r\n        instructor.vacations = [];\r\n        instructor.name = parsedData[i].first_name + \" \" + parsedData[i].last_name;\r\n        instructor.key = key;\r\n        instructorArray[key] = instructor;\r\n      }\r\n      // Check if there are any valid courses associated with the instructor\r\n      if (parsedData[i].start_date != null && parsedData[i].end_date != null) {\r\n        instructor.timeblocks.push({\r\n          start: new Date(parsedData[i].start_date),\r\n          end: new Date(parsedData[i].end_date),\r\n          name: parsedData[i].title,\r\n          courseNum: parsedData[i].course_num,\r\n          caId: parsedData[i].ca_id,\r\n          userId: parsedData[i].username\r\n        });\r\n        \r\n      }\r\n\r\n      // Check if there are any valid vacations associated with the instructor\r\n      if (parsedData[i].vacation_start != null && parsedData[i].vacation_end != null && parsedData[i].approved === 1) {\r\n        instructor.vacations.push({\r\n          vacationId: parsedData[i].vacation_id,\r\n          userId: parsedData[i].username,\r\n          vacationStart: new Date(parsedData[i].vacation_start),\r\n          vacationEnd: new Date(parsedData[i].vacation_end),\r\n        });\r\n      }\r\n    }\r\n    instructorArray = Object.values(instructorArray);\r\n    console.log(instructorArray);\r\n\r\n    this.setState({ instructors: instructorArray, heightLimit: (instructorArray.length + 1) * 2 })\r\n    this.setState({ loaded: true })\r\n  }\r\n\r\n  retrieveInstructorDataFromDatabase = () => {\r\n    fetch(END_POINT_ROOT + INSTRUCTORS_RESOURCE)\r\n      .then(response => {\r\n        return response.text();\r\n      })\r\n      .then(data => {\r\n        this.parseData(data)\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error:', error);\r\n        console.log(error)   \r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.retrieveInstructorDataFromDatabase();\r\n  }\r\n\r\n  removeElement(el) {\r\n    console.log(el);\r\n  }\r\n\r\n  renderApp() {\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        {(this.state.error !== \"\") ?\r\n          <div className=\"error-modal\" key={\"errorModal\"}>\r\n            <h1>Error:</h1>\r\n            <p>{this.state.error}</p>\r\n            <button style={{ position: \"absolute\", top: 0, right: 0 }} onClick={() => { this.setState({ error: \"\" }) }}>\r\n              <p>X</p>\r\n            </button>\r\n          </div>\r\n          :\r\n          undefined\r\n        }\r\n\r\n        <Timeline socket={this.socket} heightLimit={{ get: () => this.getHeightLimit(), set: (limit) => this.setHeightLimit(limit) }}\r\n          instructorArray={this.state.instructors} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    // Remove this later on and add a real feedback message, this is just for development purposes\r\n    this.socket.on('error', (err) => {\r\n      console.log(err);\r\n      if (typeof (err) === String) {\r\n        this.setState({ error: err });\r\n      } else {\r\n        if (err.detail === undefined) {\r\n          this.setState({ error: \"ERROR Code: \" + err.code });\r\n        } else {\r\n          this.setState({ error: err.detail });\r\n        }\r\n      }\r\n    });\r\n\r\n    return (\r\n      this.state.loaded ?\r\n        this.renderApp()\r\n        :\r\n        <span>Loading data...</span>\r\n    );\r\n  }\r\n}","import Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { styled } from '@mui/system';\r\nimport { createTheme, Typography } from \"@mui/material\";\r\nimport React, { Component }  from 'react';\r\nconst screenLayout = createTheme({\r\n    breakpoints: {\r\n        values: {\r\n            xxs: 0,\r\n            xs: 300,\r\n            lg: 800,\r\n        }\r\n    }\r\n});\r\n\r\nconst styles = makeStyles({\r\n    button: {\r\n        border: 0,\r\n        borderRadius: 5,\r\n        color: \"white\",\r\n        padding: '0 10px',\r\n        background: \"#003E6B\",\r\n        width: \"8vw\",\r\n        alignSelf: \"center\",\r\n        '&:hover': {\r\n            background: \"#5082A7\",\r\n        },\r\n        '&:focus': {\r\n            background: \"#003E6B\",\r\n            '&:hover': {\r\n                background: \"#5082A7\"\r\n            }\r\n        },\r\n        textAlign: \"right\",\r\n        marginLeft: \"30%\",\r\n    },\r\n    image: {\r\n        width: 80,\r\n        height: 80,\r\n    }\r\n});\r\n\r\nfunction Logo() {\r\n    const classes = styles();\r\n    return <img className={classes.image} src={require(\"../../images/BCIT_logo.png\")}\r\n        alt={\"BCIT\"} style={{\r\n            position: \"absolute\",\r\n            left: 5,\r\n            top: 5,\r\n        }} />\r\n}\r\n\r\nfunction BackButton() {\r\n    const classes = styles();\r\n    return <Button className={classes.button} onClick={(e) => { window.location.href = '/' }}>Back</Button>\r\n}\r\n\r\nconst TopNavWrapper = styled('div')({\r\n    width: \"100vw\",\r\n    height: \"10vh\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"left\",\r\n    justifyContent: \"space-evenly\",\r\n    color: \"#003E6B\",\r\n    backgroundColor: \"white\",\r\n})\r\n\r\nconst TitleAndBackBWrapper = styled('div')({\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    //marginTop:\"40px\"\r\n})\r\n\r\nconst LoginTitleWrapper = styled('div')({\r\n})\r\n\r\nconst HeaderWrapper = styled('div')({\r\n\r\n})\r\n\r\nconst Header = ({ title }) => {\r\n    return (\r\n        <TopNavWrapper>\r\n            <Logo />\r\n            <TitleAndBackBWrapper>\r\n                <Typography theme={screenLayout} sx={{\r\n                    fontSize: {\r\n                        xxs: \"11px\",\r\n                        xs: \"11px\",\r\n                        lg: \"16px\",\r\n                    },\r\n                    marginLeft: {\r\n                        xxs: \"60px\",\r\n                        xs: \"60px\",\r\n                    }\r\n                }}>\r\n                    <h1 className=\"details-title\">{title}</h1>\r\n                </Typography>\r\n                <BackButton />\r\n            </TitleAndBackBWrapper>\r\n        </TopNavWrapper>\r\n    );\r\n};\r\n\r\nHeader.defaultProps = {\r\n    title: 'Course Details',\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { EditText, EditTextarea } from 'react-edit-text';\r\nimport 'react-edit-text/dist/index.css';\r\nimport './index.css';\r\nimport _ from \"lodash\";\r\nimport { Link, useSearchParams } from 'react-router-dom';\r\nimport { ReactSession } from 'react-client-session';\r\nimport Header from \"./components/Header\";\r\n\r\nconst END_POINT_ROOT = \"/\";\r\n\r\nclass Day extends React.Component {\r\n\r\n  constructor({ props, info, socket }) {\r\n    super(props);\r\n    this.state = {\r\n      description: info.description,\r\n      model_num: info.model_num,\r\n      model_name: info.model_name,\r\n      quantity: info.quantity\r\n    }\r\n    this.ca_id = info.ca_id;\r\n    this.course = info.course;\r\n    this.date = info.date;\r\n    this.ds_id = info.ds_id;\r\n    this.subject = info.subject;\r\n    this.instructor = info.username;\r\n    this.socket = socket;\r\n  }\r\n\r\n  handleSave = ({ name, value, previousValue }) => {\r\n    this.setState({ description: value }, () => {\r\n      this.socket.emit(\"changeDay\", {\r\n        ca_id: this.ca_id,\r\n        course: this.course,\r\n        date: this.date.getTime(),\r\n        description: this.state.description,\r\n        ds_id: this.ds_id,\r\n        model_name: this.state.model_name,\r\n        model_num: this.state.model_num,\r\n        quantity: this.state.quantity,\r\n        subject: this.subject,\r\n        username: this.instructor\r\n      });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const descEditSave = this.state.editMode ? \"Save\" : \"Edit\";\r\n\r\n    let resources = null;\r\n    if (this.state.model_num) {\r\n      resources = this.state.model_num.map((m_num, index) => {\r\n        return (\r\n          <li key={m_num}>\r\n            {`${this.state.model_name[index]} - ${this.state.quantity[index]}`}\r\n          </li>\r\n        )\r\n      });\r\n    }\r\n\r\n    return (\r\n      <tr>\r\n        <td>\r\n          <EditText\r\n            name=\"date\"\r\n            defaultValue={getStringDate(this.date)}\r\n            readonly\r\n          />\r\n        </td>\r\n        <td>\r\n          <EditText\r\n            name=\"instructor\"\r\n            defaultValue={this.instructor ? this.instructor : \"No instructor assigned\"}\r\n            readonly\r\n          />\r\n        </td>\r\n        <td class='course-desc'>\r\n          <EditTextarea\r\n            name=\"description\"\r\n            defaultValue={!this.state.description || this.state.description == \"null\" ? \"\" : this.state.description}\r\n            onSave={this.handleSave}\r\n            rows={2}\r\n          />\r\n        </td>\r\n        <td>\r\n          <ul>\r\n            {resources}\r\n            {this.instructor ? (\r\n              <li>\r\n                <Link\r\n                  className='li-link-to-res'\r\n                  to={{\r\n                    pathname: \"/resources\",\r\n                    search: `?ds_id=${this.ds_id}&date=${this.date}`,\r\n                  }}\r\n                >Book</Link>\r\n              </li>)\r\n              : null}\r\n          </ul>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n}\r\n\r\nclass Week extends React.Component {\r\n\r\n  constructor({ props, info, socket }) {\r\n\r\n    super(props);\r\n    this.state = {\r\n      days: info,\r\n    }\r\n    this.socket = socket;\r\n\r\n    this.socket.on('changeDay', (rowInfo) => {\r\n\r\n      rowInfo.date = new Date(rowInfo.date);\r\n\r\n      let index;\r\n\r\n      for (let i = 0; i < this.state.days.length; i++) {\r\n        if (this.state.days[i].ds_id == rowInfo.ds_id) {\r\n          index = i;\r\n          break;\r\n        }\r\n      }\r\n\r\n      let copyDays = this.state.days.slice();\r\n      copyDays[index] = rowInfo;\r\n      console.log(rowInfo);\r\n\r\n      this.setState({\r\n        days: _.reduce(copyDays, (acc, day) => {\r\n          const dayData = day;\r\n          return [...acc, dayData];\r\n        }, [])\r\n      });\r\n\r\n    })\r\n  }\r\n\r\n  renderDay(dayInfo) {\r\n    return (\r\n      <Day key={dayInfo.ds_id + dayInfo.username + dayInfo.description}\r\n        info={dayInfo}\r\n        socket={this.socket}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const days = this.state.days.map((day, index) => {\r\n      return (\r\n        this.renderDay(day)\r\n      );\r\n    });\r\n    return (\r\n      <table key={this.state.days[0].ds_id}>\r\n        <caption>Schedule for week of {getStringDate(this.state.days[0].date)}</caption>\r\n        <thead>\r\n          <tr>\r\n            <th>Date</th>\r\n            <th>Instructor</th>\r\n            <th>Description</th>\r\n            <th>Resources</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {days}\r\n        </tbody>\r\n      </table>\r\n    );\r\n  }\r\n}\r\n\r\nclass Course extends React.Component {\r\n\r\n\r\n  constructor({ props, socket, courseNum }) {\r\n    super(props);\r\n    this.socket = socket;\r\n    this.state = {\r\n      data: null,\r\n      dataLoaded: false,\r\n    }\r\n    this.courseNum = courseNum;\r\n  }\r\n\r\n  renderWeek(weekInfo) {\r\n    return (\r\n      <Week key={weekInfo[0].ds_id}\r\n        info={weekInfo}\r\n        socket={this.socket}\r\n      />\r\n    );\r\n\r\n  }\r\n\r\n  renderCourse() {\r\n    let weeksData = new Array();\r\n    const chunk = 7; // # days in a week.\r\n    for (let i = 0, j = this.state.data.length; i < j; i += chunk) {\r\n      weeksData.push(this.state.data.slice(i, i + chunk));\r\n    }\r\n    const weeks = weeksData.map((week, index) => {\r\n      return (\r\n        this.renderWeek(week)\r\n      );\r\n    });\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <h2>{`${this.state.data[0].subject} - ${this.state.data[0].course}`}</h2><br />\r\n        {weeks}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  parseData = (data) => {\r\n    if (!data) {\r\n      return null;\r\n    }\r\n\r\n    const parsedData = JSON.parse(data);\r\n\r\n    for (let i = 0; i < parsedData.rows.length; i++) {\r\n      parsedData.rows[i].date = new Date(parsedData.rows[i].date); // Changing date from string-date to date object.\r\n    }\r\n\r\n    let formattedData = [];\r\n    let formattedData_len = 0;\r\n    let prev_ds_id = null;\r\n    for (let i = 0; i < parsedData.rows.length; i++) {  // Merge same days together. Add resources info to a list instead.\r\n      if (parsedData.rows[i].model_name) {\r\n        if (prev_ds_id == parsedData.rows[i].ds_id) {\r\n          formattedData[formattedData_len - 1].model_name.push(parsedData.rows[i].model_name);\r\n          formattedData[formattedData_len - 1].model_num.push(parsedData.rows[i].model_num);\r\n          formattedData[formattedData_len - 1].quantity.push(parsedData.rows[i].quantity);\r\n        } else {\r\n          formattedData_len = formattedData.push({\r\n            ca_id: parsedData.rows[i].ca_id,\r\n            course: parsedData.rows[i].course,\r\n            date: parsedData.rows[i].date,\r\n            description: parsedData.rows[i].description,\r\n            ds_id: parsedData.rows[i].ds_id,\r\n            model_name: [parsedData.rows[i].model_name],  // put in a list - to be able to add to it later if needed.\r\n            model_num: [parsedData.rows[i].model_num],    // put in a list - to be able to add to it later if needed.\r\n            quantity: [parsedData.rows[i].quantity],      // put in a list - to be able to add to it later if needed.\r\n            subject: parsedData.rows[i].subject,\r\n            username: parsedData.rows[i].username\r\n          });\r\n        }\r\n      }\r\n      else {\r\n        formattedData_len = formattedData.push(parsedData.rows[i]);\r\n      }\r\n      prev_ds_id = parsedData.rows[i].ds_id;\r\n    }\r\n\r\n    console.log(formattedData);\r\n\r\n    this.setState({ data: formattedData });\r\n    this.setState({ dataLoaded: true });\r\n  }\r\n\r\n  retrieveDailyScheduleDataFromDatabase = (courseNum) => {\r\n    fetch(END_POINT_ROOT + `detailedSchedule?courseNum=${courseNum}`, {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' },\r\n    })\r\n      .then(response => {\r\n        return response.text();\r\n      })\r\n      .then(data => {\r\n        this.parseData(data)\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.retrieveDailyScheduleDataFromDatabase(this.courseNum);\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      ReactSession.get(\"admin\") >= 0 ? (\r\n        this.state.dataLoaded ? this.renderCourse() :\r\n          <span>Loading data...</span>\r\n      ) :\r\n        window.location.href = \"/\"\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst DetailedSchedule = (socket) => {\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  return (\r\n    <Course socket={socket.socket} courseNum={searchParams.get(\"courseNum\")}></Course>\r\n  );\r\n}\r\n\r\nexport default DetailedSchedule;\r\n\r\nfunction getStringDate(date) {\r\n  const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n  return (months[date.getMonth()] + \" \" + date.getDate());\r\n}\r\n","import React, { Component } from 'react';\r\nimport 'react-edit-text/dist/index.css';\r\nimport './index.css';\r\nimport _ from \"lodash\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport { ReactSession } from 'react-client-session';\r\n\r\nconst END_POINT_ROOT = \"/\";\r\n\r\nclass PopUp extends Component {\r\n\r\n    constructor({ props, socket, toggle, resInfo, ds_id }) {\r\n        super(props);\r\n        this.state = {\r\n            inputValue: 0,\r\n        };\r\n        this.resInfo = resInfo;\r\n        this.toggle = toggle;\r\n        this.socket = socket;\r\n        this.quantityAvailable = resInfo.q_left;\r\n        this.ds_id = ds_id;\r\n\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.toggle();\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        console.log(this.quantityAvailable);\r\n        this.props.toggle();\r\n\r\n        if (isNaN(this.state.inputValue)) {\r\n            alert(\"Please enter a number\");\r\n        }\r\n        else if (this.state.inputValue > this.quantityAvailable) {\r\n            alert(\"Not enough items are available!\");\r\n        }\r\n        else if (this.state.inputValue <= 0) {\r\n            alert(\"Invalid number\");\r\n        }\r\n        else {\r\n            alert(`Succesfully booked ${this.state.inputValue} ${this.resInfo.model_name}`);\r\n            this.socket.emit(\"bookResource\", {\r\n                ds_id: this.ds_id,\r\n                model_num: this.resInfo.model_num,\r\n                model_name: this.resInfo.model_name,\r\n                quantity_total: this.resInfo.quantity_total,\r\n                model_location: this.resInfo.model_location,\r\n                q_left: (this.quantityAvailable - this.state.inputValue),\r\n                quantity_booked: this.state.inputValue\r\n            });\r\n        }\r\n    };\r\n\r\n    updateInputValue = (evt) => {\r\n        this.setState({\r\n            inputValue: evt.target.value\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"modal\">\r\n                <div className=\"modal_content\">\r\n                    <span className=\"close\" onClick={this.handleClose}>\r\n                        &times;\r\n                    </span>\r\n                    <form>\r\n                        <label id=\"popUpLabel\">\r\n                            Number of Items:\r\n                            <input type=\"text\" name=\"count\" value={this.state.inputValue} onChange={evt => this.updateInputValue(evt)} />\r\n                        </label>\r\n                        <br />\r\n                        <input type=\"submit\" onClick={this.handleSubmit} />\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Item extends React.Component {\r\n\r\n    constructor({ props, socket, resInfo, ds_id }) {\r\n        console.log(resInfo)\r\n        super(props);\r\n        this.resInfo = resInfo;\r\n        this.state = {\r\n            seen: false\r\n        }\r\n        this.socket = socket;\r\n        this.ds_id = ds_id;\r\n        //   Has a value  ?  yes, then keep it  :  No, then set it to quantity_total\r\n        this.resInfo.q_left = this.resInfo.q_left != null ? this.resInfo.q_left : this.resInfo.quantity_total\r\n    }\r\n\r\n    togglePop = () => {\r\n        this.setState({\r\n            seen: !this.state.seen\r\n        });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <tr>\r\n                <td>\r\n                    <p>{this.resInfo.model_name}</p>\r\n                </td>\r\n                <td>\r\n                    <p>{this.resInfo.quantity_total}</p>\r\n                </td>\r\n                <td>\r\n                    <p>{this.resInfo.q_left}</p>\r\n                </td>\r\n                <td>\r\n                    <p>{this.resInfo.model_location}</p>\r\n                </td>\r\n                <td id=\"popUpBookBtn\">\r\n                    {this.state.seen ? null : <button onClick={() => this.togglePop()}>Book</button>}\r\n                    {this.state.seen ? <PopUp toggle={this.togglePop} resInfo={this.resInfo} socket={this.socket} ds_id={this.ds_id} /> : null}\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n}\r\n\r\nclass Resource extends React.Component {\r\n\r\n    constructor({ props, socket, date, ds_id }) {\r\n        super(props);\r\n        this.socket = socket;\r\n        this.state = {\r\n            data: null,\r\n            dataLoaded: false,\r\n        }\r\n\r\n        this.date = date;\r\n        this.ds_id = ds_id;\r\n        this.socket.on('bookResource', (resInfo) => {\r\n\r\n            let index;\r\n            for (let i = 0; i < this.state.data.length; i++) {\r\n                if (this.state.data[i].model_num == resInfo.model_num) {\r\n                    index = i;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            let copyData = this.state.data.slice();\r\n            copyData[index] = resInfo;\r\n\r\n            this.setState({\r\n                data: _.reduce(copyData, (acc, res) => {\r\n                    const rowData = res;\r\n                    return [...acc, rowData];\r\n                }, [])\r\n            });\r\n        })\r\n    }\r\n\r\n    renderItem(itemInfo) {\r\n        return (\r\n            <Item resInfo={itemInfo} key={itemInfo.model_num + itemInfo.q_left} socket={this.socket} ds_id={this.ds_id} />\r\n        );\r\n    }\r\n\r\n    renderResouce() {\r\n        const items = this.state.data.map((itemInfo, index) => {\r\n            return (\r\n                this.renderItem(itemInfo)\r\n            );\r\n        });\r\n        return (\r\n            <table>\r\n                <caption>Available Resources</caption>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Total Quantity</th>\r\n                        <th>Available Quantity</th>\r\n                        <th>location</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {items}\r\n                </tbody>\r\n            </table>\r\n        );\r\n    }\r\n\r\n    //----\r\n    parseData = (data) => {\r\n        if (!data) {\r\n            return null;\r\n        }\r\n\r\n        const parsedData = JSON.parse(data);\r\n\r\n        this.setState({ data: parsedData.rows });\r\n        this.setState({ dataLoaded: true });\r\n    }\r\n\r\n    retrieveResourcesDataFromDatabase = (date) => {\r\n        fetch(END_POINT_ROOT + `resources?date=${date}`, {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json' },\r\n        })\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(data => {\r\n                this.parseData(data)\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.retrieveResourcesDataFromDatabase(this.date);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            ReactSession.get(\"admin\") >= 0 ? (\r\n                this.state.dataLoaded ? this.renderResouce() :\r\n                    <span>Loading data...</span>\r\n            ) :\r\n                window.location.href = \"/\"\r\n        );\r\n    }\r\n}\r\n\r\nconst Resources = (socket) => {\r\n    const [searchParams, setSearchParams] = useSearchParams();\r\n    const ds_id = searchParams.get(\"ds_id\");\r\n    const current_date = new Date(searchParams.get(\"date\"));\r\n    const formattedDate = `${current_date.getFullYear()}-${current_date.getMonth() + 1}-${current_date.getDate()}`;\r\n    console.log(formattedDate);\r\n    console.log(ds_id);\r\n    return (\r\n        <Resource socket={socket.socket} ds_id={ds_id} date={formattedDate}></Resource>\r\n    );\r\n}\r\n\r\nexport default Resources;\r\n","import React from \"react\";\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <a href='https://www.bcit.ca/copyright/'><text>Copyright</text></a>\r\n            &nbsp; &nbsp; &nbsp;\r\n            <a href='https://www.bcit.ca/privacy/'><text>Privacy</text></a>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer; ","import { useState, useEffect } from 'react'\r\nimport bg from '../images/1.jpeg'\r\nimport logo from '../images/BCIT_logo.png'\r\nimport React from \"react\";\r\n\r\nimport { ReactSession } from 'react-client-session';\r\nimport Footer from \"./components/Footer\";\r\n\r\n// styles\r\nimport styles from './login.module.css'\r\n\r\nexport default function Login() {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const authenticate = async (e) => {\r\n    let res_data = {};\r\n\r\n    e.preventDefault()\r\n\r\n    const user = { username: username, password: password };\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(user)\r\n    };\r\n\r\n    await fetch('http://localhost:3000/login', requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => res_data = data);\r\n\r\n    console.log(res_data.status);\r\n    if (res_data.status === 200) {\r\n        ReactSession.set(\"username\", res_data.username);\r\n        ReactSession.set(\"first_name\", res_data.first_name);\r\n        ReactSession.set(\"last_name\", res_data.last_name);\r\n        ReactSession.set(\"admin\", res_data.admin);\r\n        window.location.href = \"/\";\r\n    } else {\r\n        document.getElementById(\"successMessage\").innerText = \"Incorrect username or password!\";\r\n        document.getElementById(\"successMessage\").style.color = 'Yellow';\r\n        document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\r\n    }\r\n}\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    document.body.style.backgroundImage = `url('${bg}')`;\r\n    document.body.style.backgroundSize = `cover`;\r\n\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <div className='backgroundPic'>    \r\n    <form onSubmit={authenticate} className={styles['login-form']}>\r\n    <div align=\"center\">\r\n        <img src={logo} alt='logo' height=\"150\" width=\"170\" ></img>\r\n    </div>\r\n    <h2>Account Login</h2>\r\n    \r\n    <label><br/></label>\r\n      <label>        \r\n        <span><b>Username:</b></span>\r\n        <input \r\n          type=\"username\" \r\n          placeholder='Username'\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)} \r\n        />\r\n      </label>\r\n      <label>\r\n        <span><b>Password:</b></span>\r\n        <input \r\n          type=\"password\" \r\n          placeholder='Password'\r\n          onChange={(e) => setPassword(e.target.value)} \r\n          value={password} \r\n        />\r\n      </label>\r\n      <button className=\"btn\">Login</button>\r\n      \r\n    <div  id='successMessage'></div>\r\n    </form>\r\n    <center><Footer></Footer></center>\r\n    </div>\r\n\r\n  )\r\n}","import { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport AdminNav from \"../../src/components/AdminNav\";\r\nimport React from 'react'\r\nimport { ReactSession } from 'react-client-session';\r\nimport logo from '../images/BCIT_logo.png'\r\n// styles\r\nimport styles from './createUser.module.css'\r\n\r\nfunction isAdmin() {\r\n  let userStatus = ReactSession.get(\"admin\");\r\n  if (userStatus === 1) {\r\n      return true;\r\n  }\r\n  return false;\r\n}\r\n\r\n\r\n\r\nexport default function CreateUser(socket) {\r\n  socket = socket.socket;\r\n  const [username, setUsername] = useState('');\r\n  const [firstname, setFirstName] = useState('');\r\n  const [lastname, setLastName] = useState('');\r\n  const [admin, setAdmin] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n\r\nconst create_user = (e) => {\r\n        e.preventDefault();\r\n        document.getElementById(\"successMessage\").style.color = 'Red';\r\n        document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\r\n        if (!username) {\r\n            document.getElementById(\"successMessage\").innerText = \"Please enter a user name.\";\r\n            return;\r\n        }\r\n\r\n        if (!firstname || !lastname) {\r\n            document.getElementById(\"successMessage\").innerText = \"Please enter a first and last name.\";\r\n            return;\r\n        }\r\n\r\n        if (!email) {\r\n            document.getElementById(\"successMessage\").innerText = \"Please enter an email address.\";\r\n            return;\r\n        }\r\n\r\n        if (password !== confirmPassword) {\r\n            document.getElementById(\"successMessage\").innerText = \"Password does not match confirmed password.\";\r\n            return;\r\n        }\r\n\r\n\r\n\r\n        const date = new Date();\r\n        const dateJoined = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n\r\n        const new_user = {\r\n            username: username,\r\n            firstname: firstname,\r\n            lastname: lastname,\r\n            datejoined: dateJoined,\r\n            admin: admin ? 1 : 0,\r\n            email: email,\r\n            password: password\r\n        };\r\n        socket.emit('userAdded', new_user, null);\r\n\r\n        // feedback upon successful creation\r\n        socket.on('userAdded', (user) => {\r\n            document.getElementById(\"successMessage\").innerText = \"User successfully created.\"\r\n        });\r\n\r\n        // displays error msg upon failure \r\n        socket.on('error', (error) => {\r\n            document.getElementById(\"successMessage\").innerText = \"An error has occured! Please check your inputs.\";\r\n\r\n        });\r\n      }\r\n\r\n  return isAdmin() ? (\r\n    <>\r\n    <AdminNav></AdminNav>\r\n    \r\n    <label><br/></label>\r\n    <div align=\"center\">\r\n    <Link to=\"/\"><img src={logo} alt='logo' height=\"150\" width=\"170\" ></img></Link>\r\n    </div>\r\n    <form onSubmit={create_user} className={styles['signup-form']}>\r\n      <h2>Create User</h2>\r\n      <label>\r\n        <span>Username:</span>\r\n        <input \r\n          type=\"text\" \r\n          placeholder='FirstName_LastName'\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          value={username}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>First Name:</span>\r\n        <input \r\n          type=\"text\" \r\n          placeholder='First Name...'\r\n          onChange={(e) => setFirstName(e.target.value)}\r\n          value={firstname}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>Last Name:</span>\r\n        <input \r\n          type=\"text\" \r\n          placeholder='Last Name...'\r\n          onChange={(e) => setLastName(e.target.value)}\r\n          value={lastname}\r\n        />\r\n      </label>\r\n\r\n\r\n      <label className={styles['container']}>\r\n        <span>Admin:</span>\r\n        <input \r\n            type='checkbox'\r\n            value={admin}\r\n            onChange={(e) => setAdmin(e.target.checked)} />\r\n        <span className={styles['checkmark']}></span>\r\n      </label>\r\n\r\n\r\n      <label>\r\n        <span>Email:</span>\r\n        <input \r\n          type=\"email\" \r\n          placeholder='Email...'\r\n          onChange={(e) => setEmail(e.target.value)} \r\n          value={email}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>Password:</span>\r\n        <input \r\n          type=\"password\" \r\n          placeholder=\"Password...\"\r\n          onChange={(e) => setPassword(e.target.value)} \r\n          value={password} \r\n        />\r\n      </label>\r\n      <label>\r\n        <span>Confirm Password:</span>\r\n        <input \r\n          type=\"password\" \r\n          placeholder=\"Confirm password...\"\r\n          onChange={(e) => setConfirmPassword(e.target.value)} \r\n          value={confirmPassword} \r\n        />\r\n      </label>\r\n\r\n      <button className=\"btn\">Create User</button>\r\n      \r\n    <p id=\"successMessage\"></p>\r\n    </form>    \r\n    </> \r\n  ) : window.location.href = \"/\";\r\n}\r\n","import React from 'react'\r\nimport { useState } from 'react'\r\nimport { ReactSession } from 'react-client-session';\r\nimport styles from './create_course.module.css'\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport AdminNav from \"../../src/components/AdminNav\";\r\nimport { Link } from 'react-router-dom'\r\nimport logo from '../images/BCIT_logo.png'\r\n\r\n\r\nfunction isAdmin() {\r\n    let userStatus = ReactSession.get(\"admin\");\r\n    if (userStatus === 1) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction Create_Course(socket) {\r\n    socket = socket.socket;\r\n    const [course_num, setCourseNum] = useState('');\r\n    const [subject, setSubject] = useState('');\r\n    // const [course, setCourse] = useState('');\r\n    const [title, setTitle] = useState('');\r\n    const [dateRange, setDateRange] = useState([null, null]);\r\n    const [startDate, endDate] = dateRange;\r\n\r\n    const create_course = (e) => {\r\n        e.preventDefault();\r\n        document.getElementById(\"successMessage\").style.color = 'Red';\r\n        document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\r\n        if (!course_num || isNaN(course_num)) {\r\n            document.getElementById(\"successMessage\").innerText = \"Please enter a valid course number.It should be a Integer Value.\";\r\n            return;\r\n        }\r\n\r\n        if (!subject) {\r\n            document.getElementById(\"successMessage\").innerText = \"Please enter the subject name.\";\r\n            return;\r\n        }\r\n\r\n        if (!title) {\r\n            document.getElementById(\"successMessage\").innerText = \"Please enter the course title.\";\r\n            return;\r\n        }\r\n\r\n        if (!dateRange[0] || !dateRange[1]) {\r\n            document.getElementById(\"successMessage\").innerText = \"Please enter a start and end date.\";\r\n            return;\r\n        }\r\n\r\n        const new_course = {\r\n            course_num: course_num,\r\n            subject: subject,\r\n            course: course_num,\r\n            title: title,\r\n            start_date: `${dateRange[0].getFullYear()}-${dateRange[0].getMonth() + 1}-${dateRange[0].getDate()}`,\r\n            end_date: `${dateRange[1].getFullYear()}-${dateRange[1].getMonth() + 1}-${dateRange[1].getDate()}`,\r\n            colour: \"\"\r\n        };\r\n        socket.emit('courseAdded1', new_course);\r\n        console.log('CreateCourse.js\\tcourse_created!')\r\n        // feedback upon successful creation\r\n        socket.on('courseAdded1', (user) => {\r\n            document.getElementById(\"successMessage\").innerText = \"Course successfully created.\"\r\n            document.getElementById(\"successMessage\").style.color = 'Green';\r\n            document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\r\n        });\r\n\r\n        // displays error msg upon failure \r\n        socket.on('error', (error) => {\r\n            document.getElementById(\"successMessage\").innerText = \"An error has occured! Please check your inputs.\";\r\n            document.getElementById(\"successMessage\").style.color = 'Red';\r\n            document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\r\n\r\n        });\r\n    }\r\n\r\n    return isAdmin() ? (\r\n        <>\r\n        <AdminNav></AdminNav>\r\n        <label><br/></label>\r\n        <div align=\"center\">\r\n            <Link to=\"/\"><img src={logo} alt='logo' height=\"150\" width=\"170\" ></img></Link>\r\n            </div>\r\n        <form onSubmit={create_course} className={styles['course-form']}>\r\n                        <h2>Create Course</h2>\r\n        <label>\r\n        <span>Course Number:</span>\r\n        <input\r\n                            className=\"new-course-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"Course Number...\"\r\n                            value={course_num}\r\n                            onChange={(e) => setCourseNum(e.target.value)} />\r\n              </label>\r\n        <label>\r\n        <span>Subject Name:</span>\r\n              <input\r\n                            className=\"new-course-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"Subject...\"\r\n                            value={subject}\r\n                            onChange={(e) => setSubject(e.target.value)} />\r\n        </label>\r\n        <label>\r\n        <span>Title:</span>\r\n        <input\r\n                            className=\"new-course-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"Title...\"\r\n                            value={title}\r\n                            onChange={(e) => setTitle(e.target.value)} />\r\n                            \r\n        </label>\r\n        <label>\r\n        <text id='start-and-end'>Duration: </text>\r\n                        <DatePicker\r\n                            selectsRange={true}\r\n                            startDate={startDate}\r\n                            endDate={endDate}\r\n                            onChange={(update) => {\r\n                                setDateRange(update);\r\n                            }}\r\n                        />\r\n        </label>\r\n        <button >Create Course</button>\r\n        <p id=\"successMessage\"></p>\r\n        </form>\r\n        </> \r\n    ) : window.location.href = \"/\"\r\n}\r\nexport default Create_Course","import { useState } from 'react'\r\nimport { ReactSession } from 'react-client-session';\r\nimport styles from './create_resource.module.css'\r\nimport './create_resource.module.css'\r\nimport React from 'react'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport AdminNav from \"../../src/components/AdminNav\";\r\nimport { Link } from 'react-router-dom'\r\nimport logo from '../images/BCIT_logo.png'\r\n\r\nfunction isAdmin() {\r\n    let userStatus = ReactSession.get(\"admin\");\r\n    if (userStatus === 1) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction Create_resource(socket) {\r\n    socket = socket.socket;\r\n    const [model_num, setModelNum] = useState('');\r\n    const [model_name, setModelName] = useState('');\r\n    const [quantity_total, setQuantityTotal] = useState('');\r\n    const [model_location, setModelLocation] = useState('');\r\n\r\n    const create_resource = (e) => {\r\n        e.preventDefault();\r\n        document.getElementById(\"successMessage\").style.color = 'Red';\r\n        document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\r\n        if (!model_num) {\r\n            document.getElementById(\"successMessage\").innerText = \"Please enter a model number.\";\r\n            return;\r\n        }\r\n\r\n        if (!model_name) {\r\n            document.getElementById(\"successMessage\").innerText = \"Please enter a model name.\";\r\n            return;\r\n        }\r\n\r\n        if (!quantity_total || isNaN(quantity_total) || quantity_total <= 0) {\r\n            document.getElementById(\"successMessage\").innerText = \"Please enter a valid quantity\";\r\n            return;\r\n        }\r\n\r\n        if (!model_location) {\r\n            document.getElementById(\"successMessage\").innerText = \"Please enter a model location.\";\r\n            return;\r\n        }\r\n\r\n        const new_resource = {\r\n            model_num: model_num,\r\n            model_name: model_name,\r\n            quantity_total: quantity_total,\r\n            model_location: model_location\r\n        };\r\n        socket.emit('resourceAdded', new_resource, null);\r\n\r\n        // feedback upon successful creation\r\n        socket.on('resourceAdded', (user) => {\r\n            document.getElementById(\"successMessage\").innerText = \"Resource successfully created.\"\r\n            document.getElementById(\"successMessage\").style.color = 'Green';\r\n            document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\r\n        });\r\n\r\n        // displays error msg upon failure \r\n        socket.on('error', (error) => {\r\n            document.getElementById(\"successMessage\").innerText = \"An error has occured! Please check your inputs.\";\r\n            document.getElementById(\"successMessage\").style.color = 'Red';\r\n            document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\r\n\r\n        });\r\n    }\r\n\r\n    return isAdmin() ? (\r\n        <>\r\n        <AdminNav></AdminNav>\r\n        <label><br/></label>\r\n        <div align=\"center\">\r\n            <Link to=\"/\"><img src={logo} alt='logo' height=\"150\" width=\"170\" ></img></Link>\r\n            </div>\r\n                    <form onSubmit={create_resource} className={styles['resource-form']}>\r\n                        <h2>Create Resource</h2>\r\n                        <label>\r\n        <span>Model Number:</span>\r\n        <input\r\n                            className=\"new-resource-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"Model Number...\"\r\n                            value={model_num}\r\n                            onChange={(e) => setModelNum(e.target.value)} />\r\n              </label>\r\n              <label>\r\n        <span>Model Name:</span>\r\n        <input\r\n                            className=\"new-resource-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"Model Name...\"\r\n                            value={model_name}\r\n                            onChange={(e) => setModelName(e.target.value)} />\r\n              </label>\r\n              <label>\r\n        <span>Quantity Total:</span>\r\n        <input\r\n                            className=\"new-resource-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"Quantity Total...\"\r\n                            value={quantity_total}\r\n                            onChange={(e) => setQuantityTotal(e.target.value)}/>\r\n              </label>\r\n              <label>\r\n        <span>Model Location:</span>\r\n        <input\r\n                            className=\"new-resource-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"Model Location...\"\r\n                            value={model_location}\r\n                            onChange={(e) => setModelLocation(e.target.value)}/>\r\n              </label>\r\n        <button >Create Resource</button>\r\n        <p id=\"successMessage\"></p>\r\n                    </form>\r\n                    </>\r\n    ) : window.location.href = \"/\"\r\n}\r\n\r\nexport default Create_resource\r\n","import { createTheme, Typography } from \"@mui/material\";\r\nimport { styled } from \"@mui/system\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\nimport CancelIcon from '@mui/icons-material/Cancel';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React, { Component }  from 'react';\r\n\r\nconst screenLayout = createTheme({\r\n  breakpoints: {\r\n    values: {\r\n      xxs: 0,\r\n      xs: 460,\r\n      lg: 800,\r\n    }\r\n  }\r\n})\r\n\r\nconst CheckAndCancelStyles = makeStyles({\r\n  check: {\r\n    border: 0,\r\n    borderRadius: 5,\r\n    color: \"white\",\r\n    padding: '0 10px',\r\n    background: \"green\",\r\n    '&:hover': {\r\n      background: \"white\",\r\n      color: \"green\",\r\n    },\r\n    '&:focus': {\r\n      background: \"green\",\r\n      color: \"green\",\r\n    },\r\n  },\r\n  cancel: {\r\n    border: 0,\r\n    borderRadius: 5,\r\n    color: \"white\",\r\n    padding: '0 10px',\r\n    background: \"red\",\r\n    '&:hover': {\r\n      background: \"white\",\r\n      color: \"red\",\r\n    },\r\n    '&:focus': {\r\n      background: \"green\",\r\n      color: \"red\",\r\n    },\r\n  }\r\n});\r\n\r\nconst VacationInfoWrapper = styled('div')({\r\n  padding: \"5px\",\r\n  width: \"50%\",\r\n});\r\n\r\nconst ButtonsWrapper = styled('div')({\r\n  padding: \"5px\",\r\n  width: \"50%\",\r\n  display: \"flex\",\r\n  flexDirection: \"row\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\"\r\n})\r\n\r\nconst Container = styled('div')({\r\n  border: \"1px solid\",\r\n  borderColor: \"steelblue\",\r\n  display: \"flex\",\r\n  flexDirection: \"row\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\",\r\n  marginTop: \"20px\",\r\n})\r\n\r\nconst VacationEntry = ({ vacation, name, onApprove, onReject }) => {\r\n\r\n  const numToMonth = (num) => {\r\n    switch (num) {\r\n      case 0:\r\n        return \"January\"\r\n      case 1:\r\n        return \"February\"\r\n      case 2:\r\n        return \"March\"\r\n      case 3:\r\n        return \"April\"\r\n      case 4:\r\n        return \"May\"\r\n      case 5:\r\n        return \"June\"\r\n      case 6:\r\n        return \"July\"\r\n      case 7:\r\n        return \"August\"\r\n      case 8:\r\n        return \"September\"\r\n      case 9:\r\n        return \"October\"\r\n      case 10:\r\n        return \"November\"\r\n      case 11:\r\n        return \"December\"\r\n    }\r\n  }\r\n\r\n  const createDate = (timestamp) => {\r\n    const date = new Date(timestamp)\r\n    const month = numToMonth(date.getMonth())\r\n    return date.getDate() + \" \" + month + \", \" + date.getFullYear()\r\n  }\r\n\r\n  return (\r\n    <Container theme={screenLayout} sx={{\r\n      width: {\r\n        xxs: \"100%\",\r\n        xs: \"100%\",\r\n        lg: \"500px\",\r\n      }\r\n    }}>\r\n      <VacationInfoWrapper theme={screenLayout} sx={{\r\n        width: {\r\n          xxs: \"70%\",\r\n          xs: \"70%\",\r\n          lg: \"50%\",\r\n        },\r\n      }}>\r\n        <Typography theme={screenLayout} sx={{\r\n          fontSize: {\r\n            xxs: \"15px\",\r\n            xs: \"15px\",\r\n            lg: \"24px\",\r\n          },\r\n        }}>\r\n          <div className=\"approval-entry-name\" style={{ fontWeight: \"bold\" }}>{name[0]} {name[1]}</div>\r\n          <div className=\"approval-entry-start\">From: {createDate(vacation.start_date)}</div> {/* BLANK CHARACTER 52-54 */}\r\n          <div className=\"approval-entry-end\">To: {createDate(vacation.end_date)}</div> {/* BLANK CHARACTER 48-50 */}\r\n          <div className=\"approval-entry-duration\">Duration: {vacation.duration} days</div>\r\n        </Typography>\r\n      </VacationInfoWrapper>\r\n      <ButtonsWrapper>\r\n        <Button onClick={() => onApprove(vacation)} className={CheckAndCancelStyles().check}><CheckCircleIcon /></Button>\r\n        <Button onClick={() => onReject(vacation)} className={CheckAndCancelStyles().cancel}><CancelIcon /></Button>\r\n      </ButtonsWrapper>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default VacationEntry\r\n","import React from \"react\"\r\nimport VacationEntry from \"./VacationEntry\"\r\n\r\nconst NotApprovedList = ({ vacations, onApprove, onReject }) => {\r\n\r\n    const capitalizeString = (string) => {\r\n        if (string){\r\n        return string.charAt(0).toUpperCase() + string.slice(1)\r\n        }\r\n    }\r\n\r\n    const usernameToName = (vacation) => {\r\n        let first = vacation.username.split(\"_\")[0]\r\n        let last = vacation.username.split(\"_\")[1]\r\n        first = capitalizeString(first)\r\n        last = capitalizeString(last)\r\n        return [first, last]\r\n    }\r\n\r\n    return (\r\n        <div className=\"approval-list\">\r\n            {vacations.map((vacation) => (\r\n                <div key={vacation.vacation_id}>\r\n                    <VacationEntry\r\n                        vacation={vacation}\r\n                        name={usernameToName(vacation)}\r\n                        onApprove={onApprove}\r\n                        onReject={onReject} />\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotApprovedList","import React, { Component }  from 'react';\r\nconst noVacations = () => {\r\n  return (\r\n    <div className=\"approval-no-vacations\">\r\n      <p>\r\n        All vacations have been processed.\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default noVacations\r\n","import Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { styled } from '@mui/system';\r\nimport { createTheme, Typography } from \"@mui/material\";\r\nimport React, { Component }  from 'react';\r\nconst styles = makeStyles({\r\n    button: {\r\n        border: 0,\r\n        borderRadius: 5,\r\n        color: \"white\",\r\n        padding: '0 10px',\r\n        background: \"#003E6B\",\r\n        width: \"8vw\",\r\n        alignSelf: \"center\",\r\n        '&:hover': {\r\n            background: \"#5082A7\",\r\n        },\r\n        '&:focus': {\r\n            background: \"#003E6B\",\r\n            '&:hover': {\r\n                background: \"#5082A7\"\r\n            }\r\n        },\r\n        textAlign: \"right\",\r\n        marginLeft: \"30%\",\r\n    },\r\n    image: {\r\n        width: 80,\r\n        height: 80,\r\n    }\r\n});\r\n\r\nconst screenLayout = createTheme({\r\n    breakpoints: {\r\n        values: {\r\n            xxs: 0,\r\n            xs: 460,\r\n            lg: 800,\r\n        }\r\n    }\r\n});\r\n\r\nfunction Logo() {\r\n    const classes = styles();\r\n    return <img className={classes.image} src={require(\"../../images/BCIT_logo.png\")}\r\n        alt={\"BCIT\"} style={{\r\n            position: \"absolute\",\r\n            left: 5,\r\n            top: 5,\r\n        }} />\r\n}\r\n\r\nfunction BackButton() {\r\n    const classes = styles();\r\n    return <Button className={classes.button} onClick={(e) => { window.location.href = '/' }}>Back</Button>\r\n}\r\n\r\nconst TopNavWrapper = styled('div')({\r\n    width: \"100vw\",\r\n    height: \"10vh\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"left\",\r\n    justifyContent: \"space-evenly\",\r\n    color: \"#003E6B\",\r\n    backgroundColor: \"white\",\r\n})\r\n\r\nconst TitleAndBackBWrapper = styled('div')({\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n})\r\n\r\nconst LoginTitleWrapper = styled('div')({\r\n})\r\n\r\nconst Header = ({ title }) => {\r\n    return (\r\n        <TopNavWrapper>\r\n            <Logo />\r\n            <TitleAndBackBWrapper>\r\n                <Typography theme={screenLayout} sx={{\r\n                    fontSize: {\r\n                        xxs: \"11px\",\r\n                        xs: \"11px\",\r\n                        lg: \"16px\",\r\n                    },\r\n                    marginLeft: {\r\n                        xxs: \"60px\",\r\n                        xs: \"60px\",\r\n                    }\r\n                }}>\r\n                    <h1>{title}</h1>\r\n                </Typography>\r\n                <BackButton />\r\n            </TitleAndBackBWrapper>\r\n        </TopNavWrapper>\r\n    );\r\n};\r\n\r\nHeader.defaultProps = {\r\n    title: 'Pending Vacation Requests',\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport NotApprovedList from \"./components/NotApprovedList\"\r\nimport NoVacations from \"./components/NoVacations\"\r\nimport { ReactSession } from 'react-client-session';\r\nimport { createTheme } from \"@mui/material\";\r\nimport { styled } from \"@mui/system\";\r\nimport Header from \"./components/Header\";\r\n\r\n// REPLACE WHEN HOSTING\r\nconst END_POINT_ROOT = \"/\"\r\nconst VACATION_RESOURCE = \"vacationsNotApproved\"\r\n\r\nconst screenLayout = createTheme({\r\n    breakpoints: {\r\n        values: {\r\n            xxs: 0,\r\n            xs: 460,\r\n            lg: 800,\r\n        }\r\n    }\r\n})\r\n\r\nconst ApprovalContainer = styled('div')({\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n})\r\n\r\nfunction isAdmin() {\r\n    if (ReactSession.get(\"admin\")) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport default class VacationApproval extends React.Component {\r\n    state = {\r\n        vacations: [],\r\n        loaded: false,\r\n    }\r\n\r\n    constructor({ socket }) {\r\n        super()\r\n        this.socket = socket\r\n        socket.on(\"vacationApproved\", (vacation) => {\r\n            this.setState({ vacations: this.state.vacations.filter((v) => v.vacation_id !== vacation.vacation_id) })\r\n        })\r\n        socket.on(\"vacationDeleted\", (vacation) => {\r\n            this.setState({ vacations: this.state.vacations.filter((v) => v.vacation_id !== vacation.vacation_id) })\r\n        })\r\n    }\r\n\r\n    approveVacation = (vacation) => {\r\n        this.setState({ vacations: this.state.vacations.filter((v) => v.vacation_id !== vacation.vacation_id) })\r\n        this.socket.emit(\"vacationApproved\", vacation)\r\n    }\r\n\r\n    rejectVacation = (vacation) => {\r\n        this.setState({ vacations: this.state.vacations.filter((v) => v.vacation_id !== vacation.vacation_id) })\r\n        this.socket.emit(\"vacationDeleted\", vacation)\r\n    }\r\n\r\n    parseData = (data) => {\r\n        if (!data) {\r\n            return null;\r\n        }\r\n        const parsedData = JSON.parse(data)\r\n        this.setState({ vacations: parsedData })\r\n        this.setState({ loaded: true })\r\n    }\r\n\r\n    getVacations = () => {\r\n        fetch(END_POINT_ROOT + VACATION_RESOURCE)\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(data => {\r\n                this.parseData(data)\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getVacations();\r\n    }\r\n\r\n    renderApp() {\r\n        return isAdmin() ? (\r\n            <ApprovalContainer theme={screenLayout}>\r\n                <Header />\r\n                {this.state.vacations.length > 0 ?\r\n                    (<NotApprovedList vacations={this.state.vacations} onApprove={this.approveVacation} onReject={this.rejectVacation} />)\r\n                    : (<NoVacations />)}\r\n            </ApprovalContainer>\r\n        ) : window.location.href = \"/\"\r\n    }\r\n\r\n    render() {\r\n        return (this.state.loaded ? this.renderApp() :\r\n            <span>Loading data...</span>\r\n        );\r\n    }\r\n}","import Vacation from \"./vacation-form/Vacation\"\r\nimport Schedule from \"./Schedule\"\r\nimport DetailedSchedule from \"./detailed-schedule/detailedSchedule\"\r\nimport Resources from \"./resources/resources\"\r\nimport Login from \"./login/Login\"\r\nimport CreateUser from \"./create_user/CreateUser\"\r\nimport CreateCourse from \"./course/CreateCourse\"\r\nimport CreateResource from \"./resources/create_resource\"\r\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom'\r\nimport { ReactSession } from 'react-client-session';\r\nimport VacationApproval from \"./vacation-approval/VacationApproval\";\r\nimport io from \"socket.io-client\";\r\nimport React, { Component }  from 'react';\r\nconst socket = io.connect('/');\r\n\r\nReactSession.setStoreType(\"localStorage\");\r\n\r\nfunction App() {\r\n    return (\r\n        <Router>\r\n            <div className=\"app\">\r\n                <Routes>\r\n                    <Route exact path=\"/\" element={<Schedule socket={socket} />} />\r\n                    <Route exact path=\"/detailed-schedule\" element={<DetailedSchedule socket={socket} />} />\r\n                    <Route exact path=\"/resources\" element={<Resources socket={socket} />} />\r\n                    <Route exact path=\"/vacation\" element={<Vacation socket={socket} />} />\r\n                    <Route exact path=\"/vacationApproval\" element={<VacationApproval socket={socket} />} />\r\n                    <Route exact path=\"/login\" element={<Login />} />\r\n                    <Route exact path=\"/create_user\" element={<CreateUser socket={socket} />} />\r\n                    <Route exact path=\"/create_course\" element={<CreateCourse socket={socket} />} />\r\n                    <Route exact path=\"/create_resource\" element={<CreateResource socket={socket} />} />\r\n                </Routes>\r\n            </div>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));","module.exports = __webpack_public_path__ + \"static/media/BCIT_logo.b8ed20e7.png\";"],"sourceRoot":""}